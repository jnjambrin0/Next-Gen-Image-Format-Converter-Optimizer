{"openapi":"3.1.0","info":{"title":"Image Converter API","description":"\n        Privacy-focused local image conversion service with advanced optimization capabilities.\n        \n        ## üöÄ Features\n        \n        ### Core Conversion\n        - **Universal Format Support**: JPEG, PNG, WebP, AVIF, HEIF/HEIC, JPEG XL, WebP2, BMP, TIFF, GIF\n        - **Smart Format Detection**: Content-based detection, not relying on file extensions\n        - **Quality Optimization**: Adaptive quality settings based on content analysis\n        - **Metadata Privacy**: Automatic EXIF/GPS removal with granular control\n        \n        ### Batch Processing\n        - **Concurrent Processing**: Multi-threaded batch conversion with progress tracking\n        - **Real-time Updates**: WebSocket and Server-Sent Events for live progress\n        - **Flexible Cancellation**: Cancel entire jobs or individual items\n        - **Result Management**: Automatic ZIP packaging and download\n        \n        ### Intelligence Features\n        - **Content Analysis**: AI-powered detection of photos, illustrations, screenshots, documents\n        - **Smart Recommendations**: Format suggestions based on content type and optimization goals\n        - **Quality Metrics**: SSIM/PSNR quality analysis for optimization validation\n        - **Performance Profiling**: Detailed conversion statistics and metrics\n        \n        ### Preset Management\n        - **Version Control**: Full version history with rollback capabilities\n        - **Advanced Search**: Fuzzy matching, filtering, and ranking\n        - **Import/Export**: Portable preset sharing with validation\n        - **Usage Analytics**: Track preset performance and adoption\n        \n        ## üîí Security & Privacy\n        \n        ### Local-Only Processing\n        - **Network Isolation**: No external API calls or data transmission\n        - **Sandboxed Execution**: All conversions run in isolated environments\n        - **Memory Security**: Secure memory clearing with overwrite patterns\n        - **Resource Limits**: CPU, memory, and time constraints prevent abuse\n        \n        ### Privacy Controls\n        - **Metadata Removal**: EXIF, GPS, and camera data stripped by default\n        - **Filename Sanitization**: Path traversal and security validation\n        - **Privacy-Aware Logging**: No PII or sensitive data in logs\n        - **Audit Trail**: Security event tracking without data exposure\n        \n        ## üìä API Versions\n        \n        ### Current API (v1)\n        - **REST Endpoints**: Full CRUD operations with standardized error handling\n        - **Real-time Updates**: WebSocket and SSE support for live progress\n        - **Comprehensive Filtering**: Advanced search, pagination, and sorting\n        - **Version Management**: Preset versioning and rollback capabilities\n        \n        ### Legacy API (deprecated)\n        - **Backward Compatibility**: Maintained for existing integrations\n        - **Migration Path**: Automated migration tools and guides available\n        - **Sunset Timeline**: Legacy endpoints will be removed in v2.0\n        \n        ## üîß Development\n        \n        ### Error Handling\n        - **Standardized Errors**: Consistent error codes and correlation IDs\n        - **Detailed Context**: Rich error details for debugging\n        - **Rate Limiting**: Built-in protection against abuse\n        - **Validation**: Comprehensive input validation with helpful messages\n        \n        ### Performance\n        - **Concurrent Limits**: Configurable concurrency for optimal resource usage\n        - **Memory Management**: Automatic cleanup and garbage collection\n        - **Caching**: Intelligent caching for repeated operations\n        - **Monitoring**: Built-in metrics and health checks\n        \n        ## üìö Documentation\n        \n        - **Interactive API Docs**: This Swagger UI with live testing\n        - **Code Examples**: Complete examples in multiple languages\n        - **Integration Guides**: Step-by-step integration tutorials\n        - **Performance Tips**: Optimization recommendations and best practices\n        ","version":"1.0.0","contact":{"name":"Image Converter API Support","url":"https://github.com/jnjambrin0/Next-Gen-Image-Format-Converter-Optimizer"},"license":{"name":"MIT","url":"https://opensource.org/licenses/MIT"},"x-logo":{"url":"/api/logo.png","altText":"Image Converter Logo"}},"paths":{"/api/health":{"get":{"tags":["health"],"summary":"Health Check","description":"Health check endpoint to verify API is running.\nIncludes network isolation status.\n\nReturns:\n    Dict with status information including network isolation","operationId":"health_check_api_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Health Check Api Health Get"}}}}}}},"/api/convert":{"post":{"tags":["conversion"],"summary":"Convert an image to a different format","description":"Convert an uploaded image to a different format with comprehensive optimization and metadata control.\n    \n    ## Request Parameters\n    \n    ### Required\n    - **file**: Image file to convert (multipart/form-data)\n      - Supported formats: JPEG, PNG, WebP, GIF, BMP, TIFF, HEIF/HEIC, AVIF\n      - Max size: 100MB per file\n      - Content-based format detection (ignores file extension)\n    - **output_format**: Target format (webp, avif, jpeg, png, heif, jxl, webp2)\n    \n    ### Optional Settings\n    - **quality**: Quality setting (1-100, default: 85)\n      - Higher values = better quality, larger file size\n      - Ignored for lossless formats (PNG)\n    - **strip_metadata**: Remove EXIF and other metadata (default: true)\n      - Recommended for privacy and smaller file sizes\n    - **preserve_metadata**: Keep non-GPS metadata (overrides strip_metadata, default: false)\n      - Preserves camera settings, creation date, etc.\n    - **preserve_gps**: Keep GPS location data (requires preserve_metadata=true, default: false)\n      - ‚ö†Ô∏è GPS data can reveal location information\n    - **preset_id**: UUID of conversion preset to apply\n      - Preset settings override individual parameters\n      - Use `/api/v1/presets` to list available presets\n    \n    ## Response\n    \n    ### Success (200)\n    - Binary image data in requested format\n    - Enhanced response headers with conversion metadata:\n      - `X-Conversion-Id`: Unique conversion identifier\n      - `X-Processing-Time`: Time taken in seconds\n      - `X-Compression-Ratio`: Output/input size ratio\n      - `X-Input-Format`: Detected input format\n      - `X-Output-Format`: Actual output format used\n      - `X-Input-Size`: Original file size in bytes\n      - `X-Output-Size`: Converted file size in bytes\n      - `X-Quality-Used`: Quality setting applied\n      - `X-Metadata-Removed`: Whether metadata was stripped\n    \n    ### Error Responses\n    - **400**: Invalid request (empty file, missing filename, unknown format)\n    - **413**: File too large (exceeds size limits)\n    - **415**: Unsupported file format\n    - **422**: Invalid image data or corrupted file\n    - **503**: Service temporarily unavailable (too many concurrent requests)\n    \n    ## Privacy & Security\n    - All processing happens locally (no data sent to external services)\n    - Metadata (including GPS) removed by default\n    - Files processed in sandboxed environment\n    - Memory securely cleared after conversion\n    \n    ## Performance\n    - Concurrent request limiting prevents overload\n    - Automatic format detection more reliable than file extensions\n    - Optimized for files up to 50MB (larger files may be slower)\n    \n    ## Examples\n    \n    ### Basic Conversion\n    ```bash\n    curl -X POST \"/api/v1/convert\" \\\n         -F \"file=@photo.jpg\" \\\n         -F \"output_format=webp\" \\\n         -F \"quality=90\"\n    ```\n    \n    ### Using Presets\n    ```bash\n    curl -X POST \"/api/v1/convert\" \\\n         -F \"file=@photo.jpg\" \\\n         -F \"output_format=webp\" \\\n         -F \"preset_id=550e8400-e29b-41d4-a716-446655440000\"\n    ```","operationId":"convert_image_api_convert_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_convert_image_api_convert_post"}}},"required":true},"responses":{"200":{"description":"Converted image binary data","content":{"application/json":{"schema":{}},"image/webp":{},"image/avif":{},"image/jpeg":{},"image/png":{}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"413":{"description":"Payload Too Large","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"503":{"description":"Service Unavailable","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/monitoring/stats":{"get":{"tags":["monitoring","monitoring"],"summary":"Get Aggregate Stats","description":"Get current aggregate statistics.\n\nReturns privacy-safe aggregate data only:\n- Total conversions and success rates\n- Format distribution\n- Size distribution\n- Average processing times\n\nNo user data or file information is included.","operationId":"get_aggregate_stats_api_monitoring_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Aggregate Stats Api Monitoring Stats Get"}}}}}}},"/api/monitoring/stats/hourly":{"get":{"tags":["monitoring","monitoring"],"summary":"Get Hourly Stats","description":"Get hourly statistics for the specified period.\n\nArgs:\n    hours: Number of hours to retrieve (1-168, default 24)\n\nReturns:\n    Hourly aggregate statistics","operationId":"get_hourly_stats_api_monitoring_stats_hourly_get","parameters":[{"name":"hours","in":"query","required":false,"schema":{"type":"integer","maximum":168,"minimum":1,"description":"Number of hours to retrieve","default":24,"title":"Hours"},"description":"Number of hours to retrieve"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Hourly Stats Api Monitoring Stats Hourly Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/monitoring/stats/daily":{"get":{"tags":["monitoring","monitoring"],"summary":"Get Daily Stats","description":"Get daily statistics for the specified period.\n\nArgs:\n    days: Number of days to retrieve (1-90, default 30)\n\nReturns:\n    Daily aggregate statistics","operationId":"get_daily_stats_api_monitoring_stats_daily_get","parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":90,"minimum":1,"description":"Number of days to retrieve","default":30,"title":"Days"},"description":"Number of days to retrieve"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Daily Stats Api Monitoring Stats Daily Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/monitoring/logging/config":{"get":{"tags":["monitoring","monitoring"],"summary":"Get Logging Config","description":"Get current logging configuration.\n\nReturns:\n    Logging configuration including privacy settings","operationId":"get_logging_config_api_monitoring_logging_config_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Logging Config Api Monitoring Logging Config Get"}}}}}}},"/api/monitoring/logging/paranoia":{"put":{"tags":["monitoring","monitoring"],"summary":"Toggle Paranoia Mode","description":"Toggle paranoia mode (disable all logging).\n\nArgs:\n    enable: True to enable paranoia mode (disable logging), False to disable paranoia mode\n\nReturns:\n    Updated logging configuration","operationId":"toggle_paranoia_mode_api_monitoring_logging_paranoia_put","parameters":[{"name":"enable","in":"query","required":true,"schema":{"type":"boolean","description":"Enable or disable paranoia mode","title":"Enable"},"description":"Enable or disable paranoia mode"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Toggle Paranoia Mode Api Monitoring Logging Paranoia Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/monitoring/stats/cleanup":{"post":{"tags":["monitoring","monitoring"],"summary":"Cleanup Old Stats","description":"Clean up old statistics.\n\nArgs:\n    hourly_retention: Hours to retain hourly stats (24-720, default 168)\n    daily_retention: Days to retain daily stats (7-365, default 90)\n\nReturns:\n    Cleanup status","operationId":"cleanup_old_stats_api_monitoring_stats_cleanup_post","parameters":[{"name":"hourly_retention","in":"query","required":false,"schema":{"type":"integer","maximum":720,"minimum":24,"description":"Hours to retain hourly stats","default":168,"title":"Hourly Retention"},"description":"Hours to retain hourly stats"},{"name":"daily_retention","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":7,"description":"Days to retain daily stats","default":90,"title":"Daily Retention"},"description":"Days to retain daily stats"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Cleanup Old Stats Api Monitoring Stats Cleanup Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/monitoring/errors/report":{"get":{"tags":["monitoring","monitoring"],"summary":"Get Error Report","description":"Get aggregate error report for the specified period.\n\nArgs:\n    hours: Number of hours to analyze (1-168, default 24)\n\nReturns:\n    Privacy-safe error summary with:\n    - Error counts by category\n    - Error counts by type\n    - Most frequent errors\n    - No PII or sensitive information","operationId":"get_error_report_api_monitoring_errors_report_get","parameters":[{"name":"hours","in":"query","required":false,"schema":{"type":"integer","maximum":168,"minimum":1,"description":"Number of hours to analyze","default":24,"title":"Hours"},"description":"Number of hours to analyze"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Error Report Api Monitoring Errors Report Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/monitoring/errors/{error_id}":{"get":{"tags":["monitoring","monitoring"],"summary":"Get Error Details","description":"Get details for a specific error.\n\nArgs:\n    error_id: Error ID to retrieve\n\nReturns:\n    Sanitized error details","operationId":"get_error_details_api_monitoring_errors__error_id__get","parameters":[{"name":"error_id","in":"path","required":true,"schema":{"type":"string","title":"Error Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Error Details Api Monitoring Errors  Error Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/monitoring/errors/cleanup":{"post":{"tags":["monitoring","monitoring"],"summary":"Cleanup Old Errors","description":"Clean up old error reports.\n\nArgs:\n    retention_days: Days to retain error reports (1-90, default 30)\n\nReturns:\n    Cleanup status","operationId":"cleanup_old_errors_api_monitoring_errors_cleanup_post","parameters":[{"name":"retention_days","in":"query","required":false,"schema":{"type":"integer","maximum":90,"minimum":1,"description":"Days to retain errors","default":30,"title":"Retention Days"},"description":"Days to retain errors"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Cleanup Old Errors Api Monitoring Errors Cleanup Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/monitoring/security/events":{"get":{"tags":["monitoring","monitoring"],"summary":"Get Security Events","description":"Get summary of security events.\n\nArgs:\n    hours: Number of hours to analyze (1-168, default 24)\n\nReturns:\n    Privacy-safe security event summary","operationId":"get_security_events_api_monitoring_security_events_get","parameters":[{"name":"hours","in":"query","required":false,"schema":{"type":"integer","maximum":168,"minimum":1,"description":"Number of hours to analyze","default":24,"title":"Hours"},"description":"Number of hours to analyze"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Security Events Api Monitoring Security Events Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/monitoring/security/violations/trends":{"get":{"tags":["monitoring","monitoring"],"summary":"Get Violation Trends","description":"Get security violation trends.\n\nArgs:\n    days: Number of days to analyze (1-30, default 7)\n\nReturns:\n    Violation trend data","operationId":"get_violation_trends_api_monitoring_security_violations_trends_get","parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":30,"minimum":1,"description":"Number of days to analyze","default":7,"title":"Days"},"description":"Number of days to analyze"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Violation Trends Api Monitoring Security Violations Trends Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/monitoring/security/cleanup":{"post":{"tags":["monitoring","monitoring"],"summary":"Cleanup Security Events","description":"Clean up old security events.\n\nArgs:\n    retention_days: Days to retain security events (7-365, default 90)\n\nReturns:\n    Cleanup status","operationId":"cleanup_security_events_api_monitoring_security_cleanup_post","parameters":[{"name":"retention_days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":7,"description":"Days to retain events","default":90,"title":"Retention Days"},"description":"Days to retain events"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Cleanup Security Events Api Monitoring Security Cleanup Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/monitoring/system/info":{"get":{"tags":["monitoring","monitoring"],"summary":"Get System Info","description":"Get system information including network isolation status.\n\nReturns:\n    System information with:\n    - Platform details\n    - Resource usage\n    - Network isolation status\n    - Security configuration","operationId":"get_system_info_api_monitoring_system_info_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get System Info Api Monitoring System Info Get"}}}}}}},"/api/security/network-status":{"get":{"tags":["security","security"],"summary":"Get Network Status","description":"Get detailed network isolation status.\n\nReturns comprehensive information about:\n- Network isolation verification results\n- Active monitoring status\n- Recent network violations\n- Configuration settings","operationId":"get_network_status_api_security_network_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Network Status Api Security Network Status Get"}}}}}}},"/api/security/status":{"get":{"tags":["security","security"],"summary":"Get Security Status","description":"Get overall security status including recent events.\n\nReturns:\n    Security status with event summary and configuration","operationId":"get_security_status_api_security_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Security Status Api Security Status Get"}}}}}}},"/api/security/events":{"get":{"tags":["security","security"],"summary":"Get Security Events","description":"Get recent security events with optional filtering.\n\nArgs:\n    hours: Number of hours to look back (default: 24, max: 168)\n    event_type: Filter by event type\n    severity: Filter by severity level\n\nReturns:\n    List of security events matching criteria","operationId":"get_security_events_api_security_events_get","parameters":[{"name":"hours","in":"query","required":false,"schema":{"type":"integer","default":24,"title":"Hours"}},{"name":"event_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Event Type"}},{"name":"severity","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Severity"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Security Events Api Security Events Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/security/verify-network":{"post":{"tags":["security","security"],"summary":"Verify Network Isolation","description":"Trigger manual network isolation verification.\n\nArgs:\n    strictness: Override strictness level (standard/strict/paranoid)\n\nReturns:\n    Verification results","operationId":"verify_network_isolation_api_security_verify_network_post","parameters":[{"name":"strictness","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strictness"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Verify Network Isolation Api Security Verify Network Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/intelligence/analyze":{"post":{"tags":["intelligence","intelligence"],"summary":"Analyze Image","description":"Analyze image content and detect type using ML models.\n\nThis endpoint performs intelligent content detection to identify:\n- Content type (photo, screenshot, document, illustration)\n- Confidence score\n- Text regions (if any)\n- Face regions (if any)\n- Processing time\n- Additional metadata\n\nArgs:\n    file: Image file to analyze\n    debug: Include detailed debug information\n    \nReturns:\n    JSON response with classification results","operationId":"analyze_image_api_intelligence_analyze_post","parameters":[{"name":"debug","in":"query","required":false,"schema":{"type":"boolean","description":"Include debug information","default":false,"title":"Debug"},"description":"Include debug information"}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_image_api_intelligence_analyze_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/intelligence/recommendations/{content_type}/{target_format}":{"get":{"tags":["intelligence","intelligence"],"summary":"Get Optimization Recommendations","description":"Get optimization recommendations for a specific content type and format.\n\nArgs:\n    content_type: Detected content type\n    target_format: Target output format\n    \nReturns:\n    JSON response with recommended settings","operationId":"get_optimization_recommendations_api_intelligence_recommendations__content_type___target_format__get","parameters":[{"name":"content_type","in":"path","required":true,"schema":{"$ref":"#/components/schemas/ContentType"}},{"name":"target_format","in":"path","required":true,"schema":{"type":"string","title":"Target Format"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/intelligence/status":{"get":{"tags":["intelligence","intelligence"],"summary":"Get Intelligence Status","description":"Get intelligence service status.\n\nReturns:\n    JSON response with service status","operationId":"get_intelligence_status_api_intelligence_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/intelligence/cache/clear":{"post":{"tags":["intelligence","intelligence"],"summary":"Clear Intelligence Cache","description":"Clear the intelligence service cache.\n\nReturns:\n    JSON response confirming cache cleared","operationId":"clear_intelligence_cache_api_intelligence_cache_clear_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/intelligence/recommend":{"post":{"tags":["intelligence","intelligence"],"summary":"Get Format Recommendations","description":"Get intelligent format recommendations based on content and use case.\n\nThis endpoint provides:\n- Top 3 format recommendations with scores\n- Detailed reasons for each recommendation\n- Size and quality predictions\n- Trade-off analysis\n- Format comparison matrix\n\nArgs:\n    content_classification: Classification result from /analyze endpoint\n    original_format: Format of the source image\n    original_size_kb: Size of the source image in KB\n    use_case: Optional use case (web/print/archive)\n    prioritize: Optional priority (size/quality/compatibility)\n    exclude_formats: Optional list of formats to exclude\n    override_format: Optional user-selected format override\n    \nReturns:\n    JSON response with format recommendations","operationId":"get_format_recommendations_api_intelligence_recommend_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_get_format_recommendations_api_intelligence_recommend_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/intelligence/preferences/record":{"post":{"tags":["intelligence","intelligence"],"summary":"Record Format Preference","description":"Record user's format choice for learning.\n\nArgs:\n    content_type: Type of content\n    chosen_format: Format chosen by user\n    use_case: Optional use case context\n    was_override: Whether user overrode recommendations\n    \nReturns:\n    JSON response confirming preference recorded","operationId":"record_format_preference_api_intelligence_preferences_record_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_record_format_preference_api_intelligence_preferences_record_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/intelligence/preferences/{content_type}":{"get":{"tags":["intelligence","intelligence"],"summary":"Get Format Preferences","description":"Get user's format preferences for content type.\n\nArgs:\n    content_type: Type of content\n    use_case: Optional use case filter\n    \nReturns:\n    JSON response with format preferences","operationId":"get_format_preferences_api_intelligence_preferences__content_type__get","parameters":[{"name":"content_type","in":"path","required":true,"schema":{"$ref":"#/components/schemas/ContentType"}},{"name":"use_case","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/UseCaseType"},{"type":"null"}],"description":"Optional use case filter","title":"Use Case"},"description":"Optional use case filter"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/intelligence/preferences/reset":{"post":{"tags":["intelligence","intelligence"],"summary":"Reset Format Preferences","description":"Reset user format preferences.\n\nArgs:\n    content_type: Optional content type to reset (all if None)\n    format_option: Optional format to reset (all if None)\n    \nReturns:\n    JSON response with reset count","operationId":"reset_format_preferences_api_intelligence_preferences_reset_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_reset_format_preferences_api_intelligence_preferences_reset_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/intelligence/formats/{format}/details":{"get":{"tags":["intelligence","intelligence"],"summary":"Get Format Details","description":"Get detailed information about a specific format.\n\nArgs:\n    format: Output format to get details for\n    content_type: Content type for suitability context\n    \nReturns:\n    JSON response with format details","operationId":"get_format_details_api_intelligence_formats__format__details_get","parameters":[{"name":"format","in":"path","required":true,"schema":{"$ref":"#/components/schemas/OutputFormat"}},{"name":"content_type","in":"query","required":true,"schema":{"$ref":"#/components/schemas/ContentType","description":"Content type for context"},"description":"Content type for context"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/optimize/advanced":{"post":{"tags":["optimization"],"summary":"Optimize Advanced","description":"Perform advanced optimization on an uploaded image.\n\nThis endpoint provides fine-grained control over image optimization with\nfeatures like multi-pass optimization, region-based quality, and advanced\nencoding options.","operationId":"optimize_advanced_api_optimize_advanced_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_optimize_advanced_api_optimize_advanced_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OptimizationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/optimize/advanced/download":{"post":{"tags":["optimization"],"summary":"Optimize Advanced Download","description":"Optimize and directly download the result.\n\nSimilar to /advanced but returns the optimized image directly for download.","operationId":"optimize_advanced_download_api_optimize_advanced_download_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_optimize_advanced_download_api_optimize_advanced_download_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/optimize/progress/{conversion_id}":{"get":{"tags":["optimization"],"summary":"Optimization Progress Stream","description":"Stream optimization progress updates via Server-Sent Events.\n\nConnect to this endpoint to receive real-time updates during\nmulti-pass optimization.","operationId":"optimization_progress_stream_api_optimize_progress__conversion_id__get","parameters":[{"name":"conversion_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Conversion Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/optimize/analyze":{"post":{"tags":["optimization"],"summary":"Analyze Optimization Potential","description":"Analyze optimization potential for an image.\n\nReturns analysis of potential optimizations including alpha channel usage,\ncompression estimates, and format-specific recommendations.","operationId":"analyze_optimization_potential_api_optimize_analyze_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_optimization_potential_api_optimize_analyze_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/optimize/capabilities/{format}":{"get":{"tags":["optimization"],"summary":"Get Format Capabilities","description":"Get optimization capabilities for a specific format.\n\nReturns detailed information about what optimization features\nare available for the specified image format.","operationId":"get_format_capabilities_api_optimize_capabilities__format__get","parameters":[{"name":"format","in":"path","required":true,"schema":{"type":"string","title":"Format"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/batch/":{"post":{"tags":["batch","batch"],"summary":"Create Batch Job","description":"Create a new batch conversion job.\n\nArgs:\n    request: FastAPI request object\n    files: List of image files to convert\n    output_format: Target format for all conversions\n    quality: Optional quality setting (1-100)\n    optimization_mode: Optional optimization mode\n    preset_id: Optional preset to apply\n    preserve_metadata: Whether to preserve metadata\n    \nReturns:\n    BatchCreateResponse with job details","operationId":"create_batch_job_api_batch__post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_create_batch_job_api_batch__post"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/batch/{job_id}/status":{"get":{"tags":["batch","batch"],"summary":"Get Batch Status","description":"Get status of a batch job with optional filtering and pagination.\n\nArgs:\n    job_id: Batch job ID\n    request: FastAPI request object\n    status_filter: Filter items by status (pending, processing, completed, failed, cancelled)\n    limit: Maximum number of items to return\n    offset: Number of items to skip\n    \nReturns:\n    BatchStatusResponse with current job status and filtered items","operationId":"get_batch_status_api_batch__job_id__status_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status Filter"}},{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/batch/{job_id}":{"delete":{"tags":["batch","batch"],"summary":"Cancel Batch Job","description":"Cancel a batch job with enhanced cleanup.\n\nArgs:\n    job_id: Batch job ID to cancel\n    request: FastAPI request object\n    \nReturns:\n    Cancellation confirmation","operationId":"cancel_batch_job_api_batch__job_id__delete","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Cancel Batch Job Api Batch  Job Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/batch/{job_id}/items/{file_index}":{"delete":{"tags":["batch","batch"],"summary":"Cancel Batch Item","description":"Cancel a specific item in a batch job.\n\nArgs:\n    job_id: Batch job ID\n    file_index: Index of file to cancel\n    request: FastAPI request object\n    \nReturns:\n    Cancellation confirmation","operationId":"cancel_batch_item_api_batch__job_id__items__file_index__delete","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"file_index","in":"path","required":true,"schema":{"type":"integer","title":"File Index"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Cancel Batch Item Api Batch  Job Id  Items  File Index  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/batch/{job_id}/download":{"get":{"tags":["batch","batch"],"summary":"Download Batch Results","description":"Download batch processing results with enhanced content-type handling.\n\nArgs:\n    job_id: Batch job ID\n    request: FastAPI request object\n    format: Download format (zip, json) - defaults to zip\n    \nReturns:\n    StreamingResponse with requested format","operationId":"download_batch_results_api_batch__job_id__download_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"format","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"zip","title":"Format"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/batch/{job_id}/results":{"get":{"tags":["batch","batch"],"summary":"Get Batch Results","description":"Get batch job results with enhanced error handling.\n\nArgs:\n    job_id: Batch job ID\n    request: FastAPI request object\n    \nReturns:\n    BatchResult with processing summary","operationId":"get_batch_results_api_batch__job_id__results_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/batch/{job_id}/metrics":{"get":{"tags":["batch","batch"],"summary":"Get Batch Metrics","description":"Get performance metrics for a batch job.\n\nArgs:\n    job_id: Batch job ID\n    request: FastAPI request object\n    \nReturns:\n    Performance metrics including memory usage and throughput","operationId":"get_batch_metrics_api_batch__job_id__metrics_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Batch Metrics Api Batch  Job Id  Metrics Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/batch/{job_id}/websocket-token":{"post":{"summary":"Create Websocket Token","description":"Create an authentication token for WebSocket access.\n\nArgs:\n    job_id: Batch job ID\n    \nReturns:\n    Authentication token","operationId":"create_websocket_token_api_batch__job_id__websocket_token_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Create Websocket Token Api Batch  Job Id  Websocket Token Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/batch/{job_id}/events":{"get":{"tags":["batch","batch"],"summary":"Batch Events Stream","description":"Server-Sent Events stream for real-time batch progress updates.\n\nThis endpoint provides an HTTP/1.1 alternative to WebSocket connections\nfor receiving real-time progress updates during batch processing.\n\nArgs:\n    job_id: Batch job ID\n    request: FastAPI request object\n    \nReturns:\n    EventSourceResponse with real-time progress events","operationId":"batch_events_stream_api_batch__job_id__events_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/presets":{"get":{"tags":["presets","presets"],"summary":"List presets with advanced filtering and pagination","description":"List all available presets with support for:\n    - Search by name, description, or format\n    - Filtering by format, builtin status, or usage count\n    - Pagination with limit/offset\n    - Sorting by name, created date, or usage\n    \n    **Parameters:**\n    - **include_builtin**: Include built-in system presets\n    - **search**: Search term for name/description (case-insensitive)\n    - **format_filter**: Filter by output format\n    - **sort_by**: Sort field (name, created_at, usage_count)\n    - **sort_order**: Sort direction (asc, desc)\n    - **limit**: Maximum presets to return\n    - **offset**: Number of presets to skip\n    \n    **Returns:**\n    - List of matching presets with pagination metadata","operationId":"list_presets_api_presets_get","parameters":[{"name":"include_builtin","in":"query","required":false,"schema":{"type":"boolean","description":"Include built-in presets","default":true,"title":"Include Builtin"},"description":"Include built-in presets"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search term for name/description","title":"Search"},"description":"Search term for name/description"},{"name":"format_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by output format","title":"Format Filter"},"description":"Filter by output format"},{"name":"sort_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Sort field (name, created_at, usage_count)","default":"name","title":"Sort By"},"description":"Sort field (name, created_at, usage_count)"},{"name":"sort_order","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Sort direction (asc, desc)","default":"asc","title":"Sort Order"},"description":"Sort direction (asc, desc)"},{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":100,"minimum":1},{"type":"null"}],"description":"Maximum presets to return","title":"Limit"},"description":"Maximum presets to return"},{"name":"offset","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":0},{"type":"null"}],"description":"Number of presets to skip","default":0,"title":"Offset"},"description":"Number of presets to skip"}],"responses":{"200":{"description":"Presets retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresetListResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["presets","presets"],"summary":"Create new preset with validation and versioning","description":"Create a new conversion preset with comprehensive validation.\n    \n    **Features:**\n    - Automatic version tracking (starts at v1.0)\n    - Name uniqueness validation\n    - Settings format validation\n    - Quality parameter validation\n    - Format compatibility checking\n    \n    **Validation Rules:**\n    - Name: 3-50 characters, alphanumeric and spaces\n    - Description: Optional, max 200 characters\n    - Quality: 1-100 for lossy formats, ignored for lossless\n    - Format: Must be supported output format\n    - Optimization mode: size, quality, balanced, or lossless\n    \n    **Parameters:**\n    - **preset_data**: Complete preset configuration\n    \n    **Returns:**\n    - Created preset with generated UUID and version info","operationId":"create_preset_api_presets_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresetCreate"}}}},"responses":{"201":{"description":"Preset created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresetResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"Preset name already exists","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/presets/{preset_id}":{"get":{"tags":["presets","presets"],"summary":"Get preset by ID with version information","description":"Retrieve a specific preset by its UUID with detailed version information.\n    \n    **Parameters:**\n    - **preset_id**: UUID of the preset to retrieve\n    - **include_usage**: Include usage statistics\n    - **version**: Specific version to retrieve (defaults to latest)\n    \n    **Returns:**\n    - Complete preset details including settings, metadata, and version info","operationId":"get_preset_api_presets__preset_id__get","parameters":[{"name":"preset_id","in":"path","required":true,"schema":{"type":"string","title":"Preset Id"}},{"name":"include_usage","in":"query","required":false,"schema":{"type":"boolean","description":"Include usage statistics","default":false,"title":"Include Usage"},"description":"Include usage statistics"},{"name":"version","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Specific version to retrieve","title":"Version"},"description":"Specific version to retrieve"}],"responses":{"200":{"description":"Preset retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresetResponse"}}}},"404":{"description":"Preset not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["presets","presets"],"summary":"Update preset with version tracking","description":"Update an existing user preset with automatic version increment.\n    \n    **Version Management:**\n    - Automatically increments version number\n    - Preserves version history\n    - Tracks modification timestamp\n    - Records change summary\n    \n    **Restrictions:**\n    - Cannot modify built-in system presets\n    - Cannot change preset ID or creation date\n    - Name must remain unique among user presets\n    \n    **Parameters:**\n    - **preset_id**: UUID of preset to update\n    - **update_data**: Fields to update (partial update supported)\n    - **version_note**: Optional change description\n    \n    **Returns:**\n    - Updated preset with new version information","operationId":"update_preset_api_presets__preset_id__put","parameters":[{"name":"preset_id","in":"path","required":true,"schema":{"type":"string","title":"Preset Id"}},{"name":"version_note","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional change description","title":"Version Note"},"description":"Optional change description"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresetUpdate"}}}},"responses":{"200":{"description":"Preset updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresetResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Cannot modify built-in preset","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Preset not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"Name conflict","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["presets","presets"],"summary":"Delete user preset with safety checks","description":"Delete a user-created preset with comprehensive safety validation.\n    \n    **Safety Features:**\n    - Cannot delete built-in system presets\n    - Validates preset ownership\n    - Cleans up related data (usage stats, version history)\n    - Atomic operation with rollback on failure\n    \n    **Parameters:**\n    - **preset_id**: UUID of preset to delete\n    - **force**: Override safety checks (requires admin)\n    \n    **Returns:**\n    - 204 No Content on successful deletion","operationId":"delete_preset_api_presets__preset_id__delete","parameters":[{"name":"preset_id","in":"path","required":true,"schema":{"type":"string","title":"Preset Id"}},{"name":"force","in":"query","required":false,"schema":{"type":"boolean","description":"Force deletion (admin only)","default":false,"title":"Force"},"description":"Force deletion (admin only)"}],"responses":{"204":{"description":"Preset deleted successfully"},"403":{"description":"Cannot delete built-in preset","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Preset not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/presets/search/advanced":{"get":{"tags":["presets","presets"],"summary":"Advanced preset search with fuzzy matching","description":"Perform advanced search across presets with fuzzy matching and ranking.\n    \n    This endpoint provides:\n    - Fuzzy text matching across name, description, and tags\n    - Search ranking based on relevance score\n    - Multiple filter combinations\n    - Format-specific search\n    - Usage-based recommendations\n    \n    **Search Features:**\n    - Text search in name, description, and tags\n    - Fuzzy matching for typos and partial matches\n    - Format-specific filtering\n    - Quality range filtering\n    - Optimization mode filtering\n    - Usage count thresholds\n    \n    **Parameters:**\n    - **q**: Main search query (fuzzy matched)\n    - **formats**: Comma-separated list of formats to include\n    - **min_quality**: Minimum quality setting\n    - **max_quality**: Maximum quality setting\n    - **optimization_modes**: Comma-separated optimization modes\n    - **min_usage**: Minimum usage count threshold\n    - **include_builtin**: Include built-in system presets\n    - **limit**: Maximum results to return\n    - **offset**: Number of results to skip\n    \n    **Returns:**\n    - Ranked search results with relevance scores","operationId":"search_presets_advanced_api_presets_search_advanced_get","parameters":[{"name":"q","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"Search query","title":"Q"},"description":"Search query"},{"name":"formats","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated formats to include","title":"Formats"},"description":"Comma-separated formats to include"},{"name":"min_quality","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":100,"minimum":1},{"type":"null"}],"description":"Minimum quality setting","title":"Min Quality"},"description":"Minimum quality setting"},{"name":"max_quality","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":100,"minimum":1},{"type":"null"}],"description":"Maximum quality setting","title":"Max Quality"},"description":"Maximum quality setting"},{"name":"optimization_modes","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated optimization modes","title":"Optimization Modes"},"description":"Comma-separated optimization modes"},{"name":"min_usage","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":0},{"type":"null"}],"description":"Minimum usage count","title":"Min Usage"},"description":"Minimum usage count"},{"name":"include_builtin","in":"query","required":false,"schema":{"type":"boolean","description":"Include built-in presets","default":true,"title":"Include Builtin"},"description":"Include built-in presets"},{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":100,"minimum":1},{"type":"null"}],"description":"Maximum results to return","default":20,"title":"Limit"},"description":"Maximum results to return"},{"name":"offset","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":0},{"type":"null"}],"description":"Number of results to skip","default":0,"title":"Offset"},"description":"Number of results to skip"}],"responses":{"200":{"description":"Search results retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresetListResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/presets/{preset_id}/versions":{"get":{"tags":["presets","presets"],"summary":"Get preset version history","description":"Retrieve complete version history for a preset.\n    \n    **Features:**\n    - Complete version timeline\n    - Change summaries and timestamps\n    - Version comparison metadata\n    - Usage statistics per version\n    \n    **Parameters:**\n    - **preset_id**: UUID of preset\n    - **limit**: Maximum versions to return\n    - **include_content**: Include full preset content for each version\n    \n    **Returns:**\n    - Chronological list of all preset versions","operationId":"get_preset_versions_api_presets__preset_id__versions_get","parameters":[{"name":"preset_id","in":"path","required":true,"schema":{"type":"string","title":"Preset Id"}},{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":50,"minimum":1},{"type":"null"}],"description":"Maximum versions to return","title":"Limit"},"description":"Maximum versions to return"},{"name":"include_content","in":"query","required":false,"schema":{"type":"boolean","description":"Include full content for each version","default":false,"title":"Include Content"},"description":"Include full content for each version"}],"responses":{"200":{"description":"Version history retrieved successfully","content":{"application/json":{"schema":{"type":"array","items":{"type":"object"},"title":"Response Get Preset Versions Api Presets  Preset Id  Versions Get"}}}},"404":{"description":"Preset not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/presets/{preset_id}/versions/{version}/restore":{"post":{"tags":["presets","presets"],"summary":"Restore preset to previous version","description":"Restore a preset to a previous version, creating a new version entry.\n    \n    **Process:**\n    - Validates version exists in history\n    - Creates new version with restored content\n    - Preserves complete version chain\n    - Updates modification timestamp\n    \n    **Parameters:**\n    - **preset_id**: UUID of preset\n    - **version**: Version identifier to restore to\n    - **restore_note**: Optional note about the restoration\n    \n    **Returns:**\n    - Updated preset with restored content as new version","operationId":"restore_preset_version_api_presets__preset_id__versions__version__restore_post","parameters":[{"name":"preset_id","in":"path","required":true,"schema":{"type":"string","title":"Preset Id"}},{"name":"version","in":"path","required":true,"schema":{"type":"string","title":"Version"}},{"name":"restore_note","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional restoration note","title":"Restore Note"},"description":"Optional restoration note"}],"responses":{"200":{"description":"Version restored successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresetResponse"}}}},"400":{"description":"Invalid version","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Cannot restore built-in preset","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Preset or version not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/presets/import":{"post":{"tags":["presets","presets"],"summary":"Import presets with conflict resolution","description":"Import multiple presets from JSON with advanced conflict handling.\n    \n    **Features:**\n    - Batch import with atomic transactions\n    - Name conflict detection and resolution\n    - Format validation for all presets\n    - Partial import support (skip conflicts)\n    - Import summary with success/failure counts\n    \n    **Conflict Resolution:**\n    - **skip**: Skip conflicting presets (default)\n    - **overwrite**: Replace existing presets\n    - **rename**: Auto-rename with suffix\n    \n    **Parameters:**\n    - **import_data**: JSON containing preset array\n    - **conflict_strategy**: How to handle name conflicts\n    - **validate_settings**: Perform deep validation\n    \n    **Returns:**\n    - List of successfully imported presets","operationId":"import_presets_api_presets_import_post","parameters":[{"name":"conflict_strategy","in":"query","required":false,"schema":{"type":"string","description":"Conflict resolution strategy","default":"skip","title":"Conflict Strategy"},"description":"Conflict resolution strategy"},{"name":"validate_settings","in":"query","required":false,"schema":{"type":"boolean","description":"Perform deep validation","default":true,"title":"Validate Settings"},"description":"Perform deep validation"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresetImport"}}}},"responses":{"201":{"description":"Presets imported successfully","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PresetResponse"},"title":"Response 201 Import Presets Api Presets Import Post"}}}},"400":{"description":"Invalid import data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"Name conflicts detected","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/presets/{preset_id}/export":{"get":{"tags":["presets","presets"],"summary":"Export preset with version information","description":"Export a preset as portable JSON with complete metadata.\n    \n    **Export Features:**\n    - Complete preset configuration\n    - Version information and history\n    - Usage statistics (optional)\n    - Import compatibility metadata\n    - Validation checksums\n    \n    **Parameters:**\n    - **preset_id**: UUID of preset to export\n    - **include_history**: Include version history\n    - **include_usage**: Include usage statistics\n    - **format_version**: Export format version\n    \n    **Returns:**\n    - Complete preset export package","operationId":"export_preset_api_presets__preset_id__export_get","parameters":[{"name":"preset_id","in":"path","required":true,"schema":{"type":"string","title":"Preset Id"}},{"name":"include_history","in":"query","required":false,"schema":{"type":"boolean","description":"Include version history","default":false,"title":"Include History"},"description":"Include version history"},{"name":"include_usage","in":"query","required":false,"schema":{"type":"boolean","description":"Include usage statistics","default":false,"title":"Include Usage"},"description":"Include usage statistics"},{"name":"format_version","in":"query","required":false,"schema":{"type":"string","description":"Export format version","default":"1.0","title":"Format Version"},"description":"Export format version"}],"responses":{"200":{"description":"Preset exported successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresetExport"}}}},"404":{"description":"Preset not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/presets/export/all":{"get":{"tags":["presets","presets"],"summary":"Export all user presets with filtering","description":"Export all user presets (excluding built-in) with filtering options.\n    \n    **Features:**\n    - Excludes built-in system presets\n    - Optional format filtering\n    - Batch export optimization\n    - Export validation and checksums\n    - Compressed output support\n    \n    **Parameters:**\n    - **format_filter**: Only export presets for specific format\n    - **include_unused**: Include presets with zero usage\n    - **export_format**: Output format (json, yaml)\n    \n    **Returns:**\n    - Complete export package for all user presets","operationId":"export_all_presets_api_presets_export_all_get","parameters":[{"name":"format_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by output format","title":"Format Filter"},"description":"Filter by output format"},{"name":"include_unused","in":"query","required":false,"schema":{"type":"boolean","description":"Include unused presets","default":true,"title":"Include Unused"},"description":"Include unused presets"},{"name":"export_format","in":"query","required":false,"schema":{"type":"string","description":"Export format","default":"json","title":"Export Format"},"description":"Export format"}],"responses":{"200":{"description":"All presets exported successfully","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PresetBase"},"title":"Response 200 Export All Presets Api Presets Export All Get"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/detection/detect-format":{"post":{"tags":["detection","detection"],"summary":"Detect image format from uploaded file","description":"Detect the actual image format from file content, regardless of file extension.\n    \n    This endpoint uses advanced format detection techniques including:\n    - Magic byte analysis\n    - Content structure validation\n    - Format-specific header parsing\n    \n    The detection is more reliable than relying on file extensions, which can be misleading.\n    \n    **Parameters:**\n    - **file**: Image file to analyze (multipart/form-data)\n    \n    **Returns:**\n    - Detected format with confidence score\n    - Original file extension (if any)\n    - MIME type information\n    - Additional format-specific details","operationId":"detect_format_api_detection_detect_format_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_detect_format_api_detection_detect_format_post"}}},"required":true},"responses":{"200":{"description":"Format detected successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FormatDetectionResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"413":{"description":"Payload Too Large","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"503":{"description":"Service Unavailable","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/detection/recommend-format":{"post":{"tags":["detection","detection"],"summary":"Get format recommendations based on image content","description":"Analyze an image and provide intelligent format recommendations based on:\n    - Content type detection (photo, illustration, screenshot, document)\n    - Image characteristics (transparency, animation, dimensions)\n    - Compression efficiency predictions\n    - Quality preservation analysis\n    \n    The recommendations are ranked by score and include detailed reasoning.\n    \n    **Parameters:**\n    - **file**: Image file to analyze (multipart/form-data)\n    \n    **Returns:**\n    - Input format and content type\n    - Ranked list of recommended output formats\n    - Reasoning and estimated impact for each recommendation","operationId":"recommend_format_api_detection_recommend_format_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_recommend_format_api_detection_recommend_format_post"}}},"required":true},"responses":{"200":{"description":"Recommendations generated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FormatRecommendationResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"413":{"description":"Payload Too Large","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"503":{"description":"Service Unavailable","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/detection/formats/compatibility":{"get":{"tags":["detection","detection"],"summary":"Get format compatibility matrix","description":"Returns a comprehensive matrix showing which input formats can be converted to which output formats.\n    \n    This endpoint provides:\n    - Complete compatibility matrix for all supported formats\n    - List of all supported input and output formats\n    - Known limitations or restrictions for specific format pairs\n    \n    This information is useful for:\n    - Building format selection UIs\n    - Validating conversion requests\n    - Understanding format capabilities","operationId":"get_format_compatibility_api_detection_formats_compatibility_get","responses":{"200":{"description":"Compatibility matrix retrieved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FormatCompatibilityResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/auth/api-keys":{"post":{"tags":["auth","Authentication"],"summary":"Create Api Key","description":"Create a new API key.\n\nArgs:\n    request: API key creation request\n    http_request: HTTP request for logging\n    \nReturns:\n    Created API key information including the raw key","operationId":"create_api_key_api_auth_api_keys_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["auth","Authentication"],"summary":"List Api Keys","description":"List all API keys.\n\nArgs:\n    include_inactive: Whether to include inactive keys\n    http_request: HTTP request for logging\n    \nReturns:\n    List of API key information","operationId":"list_api_keys_api_auth_api_keys_get","parameters":[{"name":"include_inactive","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Inactive"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ApiKeyResponse"},"title":"Response List Api Keys Api Auth Api Keys Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/api-keys/{key_id}":{"get":{"tags":["auth","Authentication"],"summary":"Get Api Key","description":"Get a specific API key by ID.\n\nArgs:\n    key_id: The API key ID\n    http_request: HTTP request for logging\n    \nReturns:\n    API key information","operationId":"get_api_key_api_auth_api_keys__key_id__get","parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"string","title":"Key Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["auth","Authentication"],"summary":"Update Api Key","description":"Update an API key.\n\nArgs:\n    key_id: The API key ID\n    request: Update request\n    http_request: HTTP request for logging\n    \nReturns:\n    Updated API key information","operationId":"update_api_key_api_auth_api_keys__key_id__put","parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"string","title":"Key Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["auth","Authentication"],"summary":"Revoke Api Key","description":"Revoke (deactivate) an API key.\n\nArgs:\n    key_id: The API key ID\n    http_request: HTTP request for logging","operationId":"revoke_api_key_api_auth_api_keys__key_id__delete","parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"string","title":"Key Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/api-keys/{key_id}/usage":{"get":{"tags":["auth","Authentication"],"summary":"Get Api Key Usage","description":"Get usage statistics for a specific API key.\n\nArgs:\n    key_id: The API key ID\n    days: Number of days to look back (1-30)\n    http_request: HTTP request for logging\n    \nReturns:\n    Usage statistics","operationId":"get_api_key_usage_api_auth_api_keys__key_id__usage_get","parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"string","title":"Key Id"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","default":7,"title":"Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsageStatsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/usage":{"get":{"tags":["auth","Authentication"],"summary":"Get Overall Usage","description":"Get overall usage statistics for all API keys.\n\nArgs:\n    days: Number of days to look back (1-30)\n    http_request: HTTP request for logging\n    \nReturns:\n    Overall usage statistics","operationId":"get_overall_usage_api_auth_usage_get","parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","default":7,"title":"Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsageStatsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/cleanup-expired":{"post":{"tags":["auth","Authentication"],"summary":"Cleanup Expired Keys","description":"Clean up expired API keys.\n\nArgs:\n    http_request: HTTP request for logging\n    \nReturns:\n    Cleanup results","operationId":"cleanup_expired_keys_api_auth_cleanup_expired_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Cleanup Expired Keys Api Auth Cleanup Expired Post"}}}}}}},"/api/v1/health":{"get":{"tags":["v1-health"],"summary":"Health Check","description":"Health check endpoint to verify API is running.\nIncludes network isolation status.\n\nReturns:\n    Dict with status information including network isolation","operationId":"health_check_api_v1_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Health Check Api V1 Health Get"}}}}}}},"/api/v1/convert":{"post":{"tags":["v1-conversion"],"summary":"Convert an image to a different format","description":"Convert an uploaded image to a different format with comprehensive optimization and metadata control.\n    \n    ## Request Parameters\n    \n    ### Required\n    - **file**: Image file to convert (multipart/form-data)\n      - Supported formats: JPEG, PNG, WebP, GIF, BMP, TIFF, HEIF/HEIC, AVIF\n      - Max size: 100MB per file\n      - Content-based format detection (ignores file extension)\n    - **output_format**: Target format (webp, avif, jpeg, png, heif, jxl, webp2)\n    \n    ### Optional Settings\n    - **quality**: Quality setting (1-100, default: 85)\n      - Higher values = better quality, larger file size\n      - Ignored for lossless formats (PNG)\n    - **strip_metadata**: Remove EXIF and other metadata (default: true)\n      - Recommended for privacy and smaller file sizes\n    - **preserve_metadata**: Keep non-GPS metadata (overrides strip_metadata, default: false)\n      - Preserves camera settings, creation date, etc.\n    - **preserve_gps**: Keep GPS location data (requires preserve_metadata=true, default: false)\n      - ‚ö†Ô∏è GPS data can reveal location information\n    - **preset_id**: UUID of conversion preset to apply\n      - Preset settings override individual parameters\n      - Use `/api/v1/presets` to list available presets\n    \n    ## Response\n    \n    ### Success (200)\n    - Binary image data in requested format\n    - Enhanced response headers with conversion metadata:\n      - `X-Conversion-Id`: Unique conversion identifier\n      - `X-Processing-Time`: Time taken in seconds\n      - `X-Compression-Ratio`: Output/input size ratio\n      - `X-Input-Format`: Detected input format\n      - `X-Output-Format`: Actual output format used\n      - `X-Input-Size`: Original file size in bytes\n      - `X-Output-Size`: Converted file size in bytes\n      - `X-Quality-Used`: Quality setting applied\n      - `X-Metadata-Removed`: Whether metadata was stripped\n    \n    ### Error Responses\n    - **400**: Invalid request (empty file, missing filename, unknown format)\n    - **413**: File too large (exceeds size limits)\n    - **415**: Unsupported file format\n    - **422**: Invalid image data or corrupted file\n    - **503**: Service temporarily unavailable (too many concurrent requests)\n    \n    ## Privacy & Security\n    - All processing happens locally (no data sent to external services)\n    - Metadata (including GPS) removed by default\n    - Files processed in sandboxed environment\n    - Memory securely cleared after conversion\n    \n    ## Performance\n    - Concurrent request limiting prevents overload\n    - Automatic format detection more reliable than file extensions\n    - Optimized for files up to 50MB (larger files may be slower)\n    \n    ## Examples\n    \n    ### Basic Conversion\n    ```bash\n    curl -X POST \"/api/v1/convert\" \\\n         -F \"file=@photo.jpg\" \\\n         -F \"output_format=webp\" \\\n         -F \"quality=90\"\n    ```\n    \n    ### Using Presets\n    ```bash\n    curl -X POST \"/api/v1/convert\" \\\n         -F \"file=@photo.jpg\" \\\n         -F \"output_format=webp\" \\\n         -F \"preset_id=550e8400-e29b-41d4-a716-446655440000\"\n    ```","operationId":"convert_image_api_v1_convert_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_convert_image_api_v1_convert_post"}}},"required":true},"responses":{"200":{"description":"Converted image binary data","content":{"application/json":{"schema":{}},"image/webp":{},"image/avif":{},"image/jpeg":{},"image/png":{}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"413":{"description":"Payload Too Large","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"503":{"description":"Service Unavailable","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/v1/monitoring/stats":{"get":{"tags":["v1-monitoring","monitoring"],"summary":"Get Aggregate Stats","description":"Get current aggregate statistics.\n\nReturns privacy-safe aggregate data only:\n- Total conversions and success rates\n- Format distribution\n- Size distribution\n- Average processing times\n\nNo user data or file information is included.","operationId":"get_aggregate_stats_api_v1_monitoring_stats_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Aggregate Stats Api V1 Monitoring Stats Get"}}}}}}},"/api/v1/monitoring/stats/hourly":{"get":{"tags":["v1-monitoring","monitoring"],"summary":"Get Hourly Stats","description":"Get hourly statistics for the specified period.\n\nArgs:\n    hours: Number of hours to retrieve (1-168, default 24)\n\nReturns:\n    Hourly aggregate statistics","operationId":"get_hourly_stats_api_v1_monitoring_stats_hourly_get","parameters":[{"name":"hours","in":"query","required":false,"schema":{"type":"integer","maximum":168,"minimum":1,"description":"Number of hours to retrieve","default":24,"title":"Hours"},"description":"Number of hours to retrieve"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Hourly Stats Api V1 Monitoring Stats Hourly Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/monitoring/stats/daily":{"get":{"tags":["v1-monitoring","monitoring"],"summary":"Get Daily Stats","description":"Get daily statistics for the specified period.\n\nArgs:\n    days: Number of days to retrieve (1-90, default 30)\n\nReturns:\n    Daily aggregate statistics","operationId":"get_daily_stats_api_v1_monitoring_stats_daily_get","parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":90,"minimum":1,"description":"Number of days to retrieve","default":30,"title":"Days"},"description":"Number of days to retrieve"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Daily Stats Api V1 Monitoring Stats Daily Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/monitoring/logging/config":{"get":{"tags":["v1-monitoring","monitoring"],"summary":"Get Logging Config","description":"Get current logging configuration.\n\nReturns:\n    Logging configuration including privacy settings","operationId":"get_logging_config_api_v1_monitoring_logging_config_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Logging Config Api V1 Monitoring Logging Config Get"}}}}}}},"/api/v1/monitoring/logging/paranoia":{"put":{"tags":["v1-monitoring","monitoring"],"summary":"Toggle Paranoia Mode","description":"Toggle paranoia mode (disable all logging).\n\nArgs:\n    enable: True to enable paranoia mode (disable logging), False to disable paranoia mode\n\nReturns:\n    Updated logging configuration","operationId":"toggle_paranoia_mode_api_v1_monitoring_logging_paranoia_put","parameters":[{"name":"enable","in":"query","required":true,"schema":{"type":"boolean","description":"Enable or disable paranoia mode","title":"Enable"},"description":"Enable or disable paranoia mode"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Toggle Paranoia Mode Api V1 Monitoring Logging Paranoia Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/monitoring/stats/cleanup":{"post":{"tags":["v1-monitoring","monitoring"],"summary":"Cleanup Old Stats","description":"Clean up old statistics.\n\nArgs:\n    hourly_retention: Hours to retain hourly stats (24-720, default 168)\n    daily_retention: Days to retain daily stats (7-365, default 90)\n\nReturns:\n    Cleanup status","operationId":"cleanup_old_stats_api_v1_monitoring_stats_cleanup_post","parameters":[{"name":"hourly_retention","in":"query","required":false,"schema":{"type":"integer","maximum":720,"minimum":24,"description":"Hours to retain hourly stats","default":168,"title":"Hourly Retention"},"description":"Hours to retain hourly stats"},{"name":"daily_retention","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":7,"description":"Days to retain daily stats","default":90,"title":"Daily Retention"},"description":"Days to retain daily stats"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Cleanup Old Stats Api V1 Monitoring Stats Cleanup Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/monitoring/errors/report":{"get":{"tags":["v1-monitoring","monitoring"],"summary":"Get Error Report","description":"Get aggregate error report for the specified period.\n\nArgs:\n    hours: Number of hours to analyze (1-168, default 24)\n\nReturns:\n    Privacy-safe error summary with:\n    - Error counts by category\n    - Error counts by type\n    - Most frequent errors\n    - No PII or sensitive information","operationId":"get_error_report_api_v1_monitoring_errors_report_get","parameters":[{"name":"hours","in":"query","required":false,"schema":{"type":"integer","maximum":168,"minimum":1,"description":"Number of hours to analyze","default":24,"title":"Hours"},"description":"Number of hours to analyze"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Error Report Api V1 Monitoring Errors Report Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/monitoring/errors/{error_id}":{"get":{"tags":["v1-monitoring","monitoring"],"summary":"Get Error Details","description":"Get details for a specific error.\n\nArgs:\n    error_id: Error ID to retrieve\n\nReturns:\n    Sanitized error details","operationId":"get_error_details_api_v1_monitoring_errors__error_id__get","parameters":[{"name":"error_id","in":"path","required":true,"schema":{"type":"string","title":"Error Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Error Details Api V1 Monitoring Errors  Error Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/monitoring/errors/cleanup":{"post":{"tags":["v1-monitoring","monitoring"],"summary":"Cleanup Old Errors","description":"Clean up old error reports.\n\nArgs:\n    retention_days: Days to retain error reports (1-90, default 30)\n\nReturns:\n    Cleanup status","operationId":"cleanup_old_errors_api_v1_monitoring_errors_cleanup_post","parameters":[{"name":"retention_days","in":"query","required":false,"schema":{"type":"integer","maximum":90,"minimum":1,"description":"Days to retain errors","default":30,"title":"Retention Days"},"description":"Days to retain errors"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Cleanup Old Errors Api V1 Monitoring Errors Cleanup Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/monitoring/security/events":{"get":{"tags":["v1-monitoring","monitoring"],"summary":"Get Security Events","description":"Get summary of security events.\n\nArgs:\n    hours: Number of hours to analyze (1-168, default 24)\n\nReturns:\n    Privacy-safe security event summary","operationId":"get_security_events_api_v1_monitoring_security_events_get","parameters":[{"name":"hours","in":"query","required":false,"schema":{"type":"integer","maximum":168,"minimum":1,"description":"Number of hours to analyze","default":24,"title":"Hours"},"description":"Number of hours to analyze"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Security Events Api V1 Monitoring Security Events Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/monitoring/security/violations/trends":{"get":{"tags":["v1-monitoring","monitoring"],"summary":"Get Violation Trends","description":"Get security violation trends.\n\nArgs:\n    days: Number of days to analyze (1-30, default 7)\n\nReturns:\n    Violation trend data","operationId":"get_violation_trends_api_v1_monitoring_security_violations_trends_get","parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","maximum":30,"minimum":1,"description":"Number of days to analyze","default":7,"title":"Days"},"description":"Number of days to analyze"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Violation Trends Api V1 Monitoring Security Violations Trends Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/monitoring/security/cleanup":{"post":{"tags":["v1-monitoring","monitoring"],"summary":"Cleanup Security Events","description":"Clean up old security events.\n\nArgs:\n    retention_days: Days to retain security events (7-365, default 90)\n\nReturns:\n    Cleanup status","operationId":"cleanup_security_events_api_v1_monitoring_security_cleanup_post","parameters":[{"name":"retention_days","in":"query","required":false,"schema":{"type":"integer","maximum":365,"minimum":7,"description":"Days to retain events","default":90,"title":"Retention Days"},"description":"Days to retain events"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Cleanup Security Events Api V1 Monitoring Security Cleanup Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/monitoring/system/info":{"get":{"tags":["v1-monitoring","monitoring"],"summary":"Get System Info","description":"Get system information including network isolation status.\n\nReturns:\n    System information with:\n    - Platform details\n    - Resource usage\n    - Network isolation status\n    - Security configuration","operationId":"get_system_info_api_v1_monitoring_system_info_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get System Info Api V1 Monitoring System Info Get"}}}}}}},"/api/v1/security/network-status":{"get":{"tags":["v1-security","security"],"summary":"Get Network Status","description":"Get detailed network isolation status.\n\nReturns comprehensive information about:\n- Network isolation verification results\n- Active monitoring status\n- Recent network violations\n- Configuration settings","operationId":"get_network_status_api_v1_security_network_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Network Status Api V1 Security Network Status Get"}}}}}}},"/api/v1/security/status":{"get":{"tags":["v1-security","security"],"summary":"Get Security Status","description":"Get overall security status including recent events.\n\nReturns:\n    Security status with event summary and configuration","operationId":"get_security_status_api_v1_security_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Security Status Api V1 Security Status Get"}}}}}}},"/api/v1/security/events":{"get":{"tags":["v1-security","security"],"summary":"Get Security Events","description":"Get recent security events with optional filtering.\n\nArgs:\n    hours: Number of hours to look back (default: 24, max: 168)\n    event_type: Filter by event type\n    severity: Filter by severity level\n\nReturns:\n    List of security events matching criteria","operationId":"get_security_events_api_v1_security_events_get","parameters":[{"name":"hours","in":"query","required":false,"schema":{"type":"integer","default":24,"title":"Hours"}},{"name":"event_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Event Type"}},{"name":"severity","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Severity"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Security Events Api V1 Security Events Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/security/verify-network":{"post":{"tags":["v1-security","security"],"summary":"Verify Network Isolation","description":"Trigger manual network isolation verification.\n\nArgs:\n    strictness: Override strictness level (standard/strict/paranoid)\n\nReturns:\n    Verification results","operationId":"verify_network_isolation_api_v1_security_verify_network_post","parameters":[{"name":"strictness","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strictness"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Verify Network Isolation Api V1 Security Verify Network Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/intelligence/analyze":{"post":{"tags":["v1-intelligence","intelligence"],"summary":"Analyze Image","description":"Analyze image content and detect type using ML models.\n\nThis endpoint performs intelligent content detection to identify:\n- Content type (photo, screenshot, document, illustration)\n- Confidence score\n- Text regions (if any)\n- Face regions (if any)\n- Processing time\n- Additional metadata\n\nArgs:\n    file: Image file to analyze\n    debug: Include detailed debug information\n    \nReturns:\n    JSON response with classification results","operationId":"analyze_image_api_v1_intelligence_analyze_post","parameters":[{"name":"debug","in":"query","required":false,"schema":{"type":"boolean","description":"Include debug information","default":false,"title":"Debug"},"description":"Include debug information"}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_image_api_v1_intelligence_analyze_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/intelligence/recommendations/{content_type}/{target_format}":{"get":{"tags":["v1-intelligence","intelligence"],"summary":"Get Optimization Recommendations","description":"Get optimization recommendations for a specific content type and format.\n\nArgs:\n    content_type: Detected content type\n    target_format: Target output format\n    \nReturns:\n    JSON response with recommended settings","operationId":"get_optimization_recommendations_api_v1_intelligence_recommendations__content_type___target_format__get","parameters":[{"name":"content_type","in":"path","required":true,"schema":{"$ref":"#/components/schemas/ContentType"}},{"name":"target_format","in":"path","required":true,"schema":{"type":"string","title":"Target Format"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/intelligence/status":{"get":{"tags":["v1-intelligence","intelligence"],"summary":"Get Intelligence Status","description":"Get intelligence service status.\n\nReturns:\n    JSON response with service status","operationId":"get_intelligence_status_api_v1_intelligence_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/intelligence/cache/clear":{"post":{"tags":["v1-intelligence","intelligence"],"summary":"Clear Intelligence Cache","description":"Clear the intelligence service cache.\n\nReturns:\n    JSON response confirming cache cleared","operationId":"clear_intelligence_cache_api_v1_intelligence_cache_clear_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/v1/intelligence/recommend":{"post":{"tags":["v1-intelligence","intelligence"],"summary":"Get Format Recommendations","description":"Get intelligent format recommendations based on content and use case.\n\nThis endpoint provides:\n- Top 3 format recommendations with scores\n- Detailed reasons for each recommendation\n- Size and quality predictions\n- Trade-off analysis\n- Format comparison matrix\n\nArgs:\n    content_classification: Classification result from /analyze endpoint\n    original_format: Format of the source image\n    original_size_kb: Size of the source image in KB\n    use_case: Optional use case (web/print/archive)\n    prioritize: Optional priority (size/quality/compatibility)\n    exclude_formats: Optional list of formats to exclude\n    override_format: Optional user-selected format override\n    \nReturns:\n    JSON response with format recommendations","operationId":"get_format_recommendations_api_v1_intelligence_recommend_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_get_format_recommendations_api_v1_intelligence_recommend_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/intelligence/preferences/record":{"post":{"tags":["v1-intelligence","intelligence"],"summary":"Record Format Preference","description":"Record user's format choice for learning.\n\nArgs:\n    content_type: Type of content\n    chosen_format: Format chosen by user\n    use_case: Optional use case context\n    was_override: Whether user overrode recommendations\n    \nReturns:\n    JSON response confirming preference recorded","operationId":"record_format_preference_api_v1_intelligence_preferences_record_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_record_format_preference_api_v1_intelligence_preferences_record_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/intelligence/preferences/{content_type}":{"get":{"tags":["v1-intelligence","intelligence"],"summary":"Get Format Preferences","description":"Get user's format preferences for content type.\n\nArgs:\n    content_type: Type of content\n    use_case: Optional use case filter\n    \nReturns:\n    JSON response with format preferences","operationId":"get_format_preferences_api_v1_intelligence_preferences__content_type__get","parameters":[{"name":"content_type","in":"path","required":true,"schema":{"$ref":"#/components/schemas/ContentType"}},{"name":"use_case","in":"query","required":false,"schema":{"anyOf":[{"$ref":"#/components/schemas/UseCaseType"},{"type":"null"}],"description":"Optional use case filter","title":"Use Case"},"description":"Optional use case filter"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/intelligence/preferences/reset":{"post":{"tags":["v1-intelligence","intelligence"],"summary":"Reset Format Preferences","description":"Reset user format preferences.\n\nArgs:\n    content_type: Optional content type to reset (all if None)\n    format_option: Optional format to reset (all if None)\n    \nReturns:\n    JSON response with reset count","operationId":"reset_format_preferences_api_v1_intelligence_preferences_reset_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Body_reset_format_preferences_api_v1_intelligence_preferences_reset_post"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/intelligence/formats/{format}/details":{"get":{"tags":["v1-intelligence","intelligence"],"summary":"Get Format Details","description":"Get detailed information about a specific format.\n\nArgs:\n    format: Output format to get details for\n    content_type: Content type for suitability context\n    \nReturns:\n    JSON response with format details","operationId":"get_format_details_api_v1_intelligence_formats__format__details_get","parameters":[{"name":"format","in":"path","required":true,"schema":{"$ref":"#/components/schemas/OutputFormat"}},{"name":"content_type","in":"query","required":true,"schema":{"$ref":"#/components/schemas/ContentType","description":"Content type for context"},"description":"Content type for context"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/optimize/advanced":{"post":{"tags":["v1-optimization"],"summary":"Optimize Advanced","description":"Perform advanced optimization on an uploaded image.\n\nThis endpoint provides fine-grained control over image optimization with\nfeatures like multi-pass optimization, region-based quality, and advanced\nencoding options.","operationId":"optimize_advanced_api_v1_optimize_advanced_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_optimize_advanced_api_v1_optimize_advanced_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/OptimizationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/optimize/advanced/download":{"post":{"tags":["v1-optimization"],"summary":"Optimize Advanced Download","description":"Optimize and directly download the result.\n\nSimilar to /advanced but returns the optimized image directly for download.","operationId":"optimize_advanced_download_api_v1_optimize_advanced_download_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_optimize_advanced_download_api_v1_optimize_advanced_download_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/optimize/progress/{conversion_id}":{"get":{"tags":["v1-optimization"],"summary":"Optimization Progress Stream","description":"Stream optimization progress updates via Server-Sent Events.\n\nConnect to this endpoint to receive real-time updates during\nmulti-pass optimization.","operationId":"optimization_progress_stream_api_v1_optimize_progress__conversion_id__get","parameters":[{"name":"conversion_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Conversion Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/optimize/analyze":{"post":{"tags":["v1-optimization"],"summary":"Analyze Optimization Potential","description":"Analyze optimization potential for an image.\n\nReturns analysis of potential optimizations including alpha channel usage,\ncompression estimates, and format-specific recommendations.","operationId":"analyze_optimization_potential_api_v1_optimize_analyze_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_analyze_optimization_potential_api_v1_optimize_analyze_post"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/optimize/capabilities/{format}":{"get":{"tags":["v1-optimization"],"summary":"Get Format Capabilities","description":"Get optimization capabilities for a specific format.\n\nReturns detailed information about what optimization features\nare available for the specified image format.","operationId":"get_format_capabilities_api_v1_optimize_capabilities__format__get","parameters":[{"name":"format","in":"path","required":true,"schema":{"type":"string","title":"Format"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/batch/":{"post":{"tags":["v1-batch","batch"],"summary":"Create Batch Job","description":"Create a new batch conversion job.\n\nArgs:\n    request: FastAPI request object\n    files: List of image files to convert\n    output_format: Target format for all conversions\n    quality: Optional quality setting (1-100)\n    optimization_mode: Optional optimization mode\n    preset_id: Optional preset to apply\n    preserve_metadata: Whether to preserve metadata\n    \nReturns:\n    BatchCreateResponse with job details","operationId":"create_batch_job_api_v1_batch__post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_create_batch_job_api_v1_batch__post"}}},"required":true},"responses":{"202":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/batch/{job_id}/status":{"get":{"tags":["v1-batch","batch"],"summary":"Get Batch Status","description":"Get status of a batch job with optional filtering and pagination.\n\nArgs:\n    job_id: Batch job ID\n    request: FastAPI request object\n    status_filter: Filter items by status (pending, processing, completed, failed, cancelled)\n    limit: Maximum number of items to return\n    offset: Number of items to skip\n    \nReturns:\n    BatchStatusResponse with current job status and filtered items","operationId":"get_batch_status_api_v1_batch__job_id__status_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"status_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status Filter"}},{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"default":0,"title":"Offset"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/batch/{job_id}":{"delete":{"tags":["v1-batch","batch"],"summary":"Cancel Batch Job","description":"Cancel a batch job with enhanced cleanup.\n\nArgs:\n    job_id: Batch job ID to cancel\n    request: FastAPI request object\n    \nReturns:\n    Cancellation confirmation","operationId":"cancel_batch_job_api_v1_batch__job_id__delete","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Cancel Batch Job Api V1 Batch  Job Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/batch/{job_id}/items/{file_index}":{"delete":{"tags":["v1-batch","batch"],"summary":"Cancel Batch Item","description":"Cancel a specific item in a batch job.\n\nArgs:\n    job_id: Batch job ID\n    file_index: Index of file to cancel\n    request: FastAPI request object\n    \nReturns:\n    Cancellation confirmation","operationId":"cancel_batch_item_api_v1_batch__job_id__items__file_index__delete","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"file_index","in":"path","required":true,"schema":{"type":"integer","title":"File Index"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Cancel Batch Item Api V1 Batch  Job Id  Items  File Index  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/batch/{job_id}/download":{"get":{"tags":["v1-batch","batch"],"summary":"Download Batch Results","description":"Download batch processing results with enhanced content-type handling.\n\nArgs:\n    job_id: Batch job ID\n    request: FastAPI request object\n    format: Download format (zip, json) - defaults to zip\n    \nReturns:\n    StreamingResponse with requested format","operationId":"download_batch_results_api_v1_batch__job_id__download_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},{"name":"format","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"default":"zip","title":"Format"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/batch/{job_id}/results":{"get":{"tags":["v1-batch","batch"],"summary":"Get Batch Results","description":"Get batch job results with enhanced error handling.\n\nArgs:\n    job_id: Batch job ID\n    request: FastAPI request object\n    \nReturns:\n    BatchResult with processing summary","operationId":"get_batch_results_api_v1_batch__job_id__results_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/batch/{job_id}/metrics":{"get":{"tags":["v1-batch","batch"],"summary":"Get Batch Metrics","description":"Get performance metrics for a batch job.\n\nArgs:\n    job_id: Batch job ID\n    request: FastAPI request object\n    \nReturns:\n    Performance metrics including memory usage and throughput","operationId":"get_batch_metrics_api_v1_batch__job_id__metrics_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Get Batch Metrics Api V1 Batch  Job Id  Metrics Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/batch/{job_id}/websocket-token":{"post":{"tags":["v1-batch","batch"],"summary":"Create Websocket Token","description":"Create a new authentication token for WebSocket access.\n\nThis endpoint allows clients to get a fresh token for WebSocket connections,\nuseful when the original token has expired or was not saved.\n\nArgs:\n    job_id: Batch job ID\n    request: FastAPI request object\n    \nReturns:\n    New authentication token with WebSocket URL","operationId":"create_websocket_token_api_v1_batch__job_id__websocket_token_post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"string"},"title":"Response Create Websocket Token Api V1 Batch  Job Id  Websocket Token Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/batch/{job_id}/events":{"get":{"tags":["v1-batch","batch"],"summary":"Batch Events Stream","description":"Server-Sent Events stream for real-time batch progress updates.\n\nThis endpoint provides an HTTP/1.1 alternative to WebSocket connections\nfor receiving real-time progress updates during batch processing.\n\nArgs:\n    job_id: Batch job ID\n    request: FastAPI request object\n    \nReturns:\n    EventSourceResponse with real-time progress events","operationId":"batch_events_stream_api_v1_batch__job_id__events_get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/presets":{"get":{"tags":["v1-presets","presets"],"summary":"List presets with advanced filtering and pagination","description":"List all available presets with support for:\n    - Search by name, description, or format\n    - Filtering by format, builtin status, or usage count\n    - Pagination with limit/offset\n    - Sorting by name, created date, or usage\n    \n    **Parameters:**\n    - **include_builtin**: Include built-in system presets\n    - **search**: Search term for name/description (case-insensitive)\n    - **format_filter**: Filter by output format\n    - **sort_by**: Sort field (name, created_at, usage_count)\n    - **sort_order**: Sort direction (asc, desc)\n    - **limit**: Maximum presets to return\n    - **offset**: Number of presets to skip\n    \n    **Returns:**\n    - List of matching presets with pagination metadata","operationId":"list_presets_api_v1_presets_get","parameters":[{"name":"include_builtin","in":"query","required":false,"schema":{"type":"boolean","description":"Include built-in presets","default":true,"title":"Include Builtin"},"description":"Include built-in presets"},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Search term for name/description","title":"Search"},"description":"Search term for name/description"},{"name":"format_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by output format","title":"Format Filter"},"description":"Filter by output format"},{"name":"sort_by","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Sort field (name, created_at, usage_count)","default":"name","title":"Sort By"},"description":"Sort field (name, created_at, usage_count)"},{"name":"sort_order","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Sort direction (asc, desc)","default":"asc","title":"Sort Order"},"description":"Sort direction (asc, desc)"},{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":100,"minimum":1},{"type":"null"}],"description":"Maximum presets to return","title":"Limit"},"description":"Maximum presets to return"},{"name":"offset","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":0},{"type":"null"}],"description":"Number of presets to skip","default":0,"title":"Offset"},"description":"Number of presets to skip"}],"responses":{"200":{"description":"Presets retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresetListResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["v1-presets","presets"],"summary":"Create new preset with validation and versioning","description":"Create a new conversion preset with comprehensive validation.\n    \n    **Features:**\n    - Automatic version tracking (starts at v1.0)\n    - Name uniqueness validation\n    - Settings format validation\n    - Quality parameter validation\n    - Format compatibility checking\n    \n    **Validation Rules:**\n    - Name: 3-50 characters, alphanumeric and spaces\n    - Description: Optional, max 200 characters\n    - Quality: 1-100 for lossy formats, ignored for lossless\n    - Format: Must be supported output format\n    - Optimization mode: size, quality, balanced, or lossless\n    \n    **Parameters:**\n    - **preset_data**: Complete preset configuration\n    \n    **Returns:**\n    - Created preset with generated UUID and version info","operationId":"create_preset_api_v1_presets_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresetCreate"}}}},"responses":{"201":{"description":"Preset created successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresetResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"Preset name already exists","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/presets/{preset_id}":{"get":{"tags":["v1-presets","presets"],"summary":"Get preset by ID with version information","description":"Retrieve a specific preset by its UUID with detailed version information.\n    \n    **Parameters:**\n    - **preset_id**: UUID of the preset to retrieve\n    - **include_usage**: Include usage statistics\n    - **version**: Specific version to retrieve (defaults to latest)\n    \n    **Returns:**\n    - Complete preset details including settings, metadata, and version info","operationId":"get_preset_api_v1_presets__preset_id__get","parameters":[{"name":"preset_id","in":"path","required":true,"schema":{"type":"string","title":"Preset Id"}},{"name":"include_usage","in":"query","required":false,"schema":{"type":"boolean","description":"Include usage statistics","default":false,"title":"Include Usage"},"description":"Include usage statistics"},{"name":"version","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Specific version to retrieve","title":"Version"},"description":"Specific version to retrieve"}],"responses":{"200":{"description":"Preset retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresetResponse"}}}},"404":{"description":"Preset not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["v1-presets","presets"],"summary":"Update preset with version tracking","description":"Update an existing user preset with automatic version increment.\n    \n    **Version Management:**\n    - Automatically increments version number\n    - Preserves version history\n    - Tracks modification timestamp\n    - Records change summary\n    \n    **Restrictions:**\n    - Cannot modify built-in system presets\n    - Cannot change preset ID or creation date\n    - Name must remain unique among user presets\n    \n    **Parameters:**\n    - **preset_id**: UUID of preset to update\n    - **update_data**: Fields to update (partial update supported)\n    - **version_note**: Optional change description\n    \n    **Returns:**\n    - Updated preset with new version information","operationId":"update_preset_api_v1_presets__preset_id__put","parameters":[{"name":"preset_id","in":"path","required":true,"schema":{"type":"string","title":"Preset Id"}},{"name":"version_note","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional change description","title":"Version Note"},"description":"Optional change description"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresetUpdate"}}}},"responses":{"200":{"description":"Preset updated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresetResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Cannot modify built-in preset","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Preset not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"Name conflict","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["v1-presets","presets"],"summary":"Delete user preset with safety checks","description":"Delete a user-created preset with comprehensive safety validation.\n    \n    **Safety Features:**\n    - Cannot delete built-in system presets\n    - Validates preset ownership\n    - Cleans up related data (usage stats, version history)\n    - Atomic operation with rollback on failure\n    \n    **Parameters:**\n    - **preset_id**: UUID of preset to delete\n    - **force**: Override safety checks (requires admin)\n    \n    **Returns:**\n    - 204 No Content on successful deletion","operationId":"delete_preset_api_v1_presets__preset_id__delete","parameters":[{"name":"preset_id","in":"path","required":true,"schema":{"type":"string","title":"Preset Id"}},{"name":"force","in":"query","required":false,"schema":{"type":"boolean","description":"Force deletion (admin only)","default":false,"title":"Force"},"description":"Force deletion (admin only)"}],"responses":{"204":{"description":"Preset deleted successfully"},"403":{"description":"Cannot delete built-in preset","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Preset not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/presets/search/advanced":{"get":{"tags":["v1-presets","presets"],"summary":"Advanced preset search with fuzzy matching","description":"Perform advanced search across presets with fuzzy matching and ranking.\n    \n    This endpoint provides:\n    - Fuzzy text matching across name, description, and tags\n    - Search ranking based on relevance score\n    - Multiple filter combinations\n    - Format-specific search\n    - Usage-based recommendations\n    \n    **Search Features:**\n    - Text search in name, description, and tags\n    - Fuzzy matching for typos and partial matches\n    - Format-specific filtering\n    - Quality range filtering\n    - Optimization mode filtering\n    - Usage count thresholds\n    \n    **Parameters:**\n    - **q**: Main search query (fuzzy matched)\n    - **formats**: Comma-separated list of formats to include\n    - **min_quality**: Minimum quality setting\n    - **max_quality**: Maximum quality setting\n    - **optimization_modes**: Comma-separated optimization modes\n    - **min_usage**: Minimum usage count threshold\n    - **include_builtin**: Include built-in system presets\n    - **limit**: Maximum results to return\n    - **offset**: Number of results to skip\n    \n    **Returns:**\n    - Ranked search results with relevance scores","operationId":"search_presets_advanced_api_v1_presets_search_advanced_get","parameters":[{"name":"q","in":"query","required":true,"schema":{"type":"string","minLength":1,"description":"Search query","title":"Q"},"description":"Search query"},{"name":"formats","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated formats to include","title":"Formats"},"description":"Comma-separated formats to include"},{"name":"min_quality","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":100,"minimum":1},{"type":"null"}],"description":"Minimum quality setting","title":"Min Quality"},"description":"Minimum quality setting"},{"name":"max_quality","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":100,"minimum":1},{"type":"null"}],"description":"Maximum quality setting","title":"Max Quality"},"description":"Maximum quality setting"},{"name":"optimization_modes","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Comma-separated optimization modes","title":"Optimization Modes"},"description":"Comma-separated optimization modes"},{"name":"min_usage","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":0},{"type":"null"}],"description":"Minimum usage count","title":"Min Usage"},"description":"Minimum usage count"},{"name":"include_builtin","in":"query","required":false,"schema":{"type":"boolean","description":"Include built-in presets","default":true,"title":"Include Builtin"},"description":"Include built-in presets"},{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":100,"minimum":1},{"type":"null"}],"description":"Maximum results to return","default":20,"title":"Limit"},"description":"Maximum results to return"},{"name":"offset","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","minimum":0},{"type":"null"}],"description":"Number of results to skip","default":0,"title":"Offset"},"description":"Number of results to skip"}],"responses":{"200":{"description":"Search results retrieved successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresetListResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/presets/{preset_id}/versions":{"get":{"tags":["v1-presets","presets"],"summary":"Get preset version history","description":"Retrieve complete version history for a preset.\n    \n    **Features:**\n    - Complete version timeline\n    - Change summaries and timestamps\n    - Version comparison metadata\n    - Usage statistics per version\n    \n    **Parameters:**\n    - **preset_id**: UUID of preset\n    - **limit**: Maximum versions to return\n    - **include_content**: Include full preset content for each version\n    \n    **Returns:**\n    - Chronological list of all preset versions","operationId":"get_preset_versions_api_v1_presets__preset_id__versions_get","parameters":[{"name":"preset_id","in":"path","required":true,"schema":{"type":"string","title":"Preset Id"}},{"name":"limit","in":"query","required":false,"schema":{"anyOf":[{"type":"integer","maximum":50,"minimum":1},{"type":"null"}],"description":"Maximum versions to return","title":"Limit"},"description":"Maximum versions to return"},{"name":"include_content","in":"query","required":false,"schema":{"type":"boolean","description":"Include full content for each version","default":false,"title":"Include Content"},"description":"Include full content for each version"}],"responses":{"200":{"description":"Version history retrieved successfully","content":{"application/json":{"schema":{"type":"array","items":{"type":"object"},"title":"Response Get Preset Versions Api V1 Presets  Preset Id  Versions Get"}}}},"404":{"description":"Preset not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/presets/{preset_id}/versions/{version}/restore":{"post":{"tags":["v1-presets","presets"],"summary":"Restore preset to previous version","description":"Restore a preset to a previous version, creating a new version entry.\n    \n    **Process:**\n    - Validates version exists in history\n    - Creates new version with restored content\n    - Preserves complete version chain\n    - Updates modification timestamp\n    \n    **Parameters:**\n    - **preset_id**: UUID of preset\n    - **version**: Version identifier to restore to\n    - **restore_note**: Optional note about the restoration\n    \n    **Returns:**\n    - Updated preset with restored content as new version","operationId":"restore_preset_version_api_v1_presets__preset_id__versions__version__restore_post","parameters":[{"name":"preset_id","in":"path","required":true,"schema":{"type":"string","title":"Preset Id"}},{"name":"version","in":"path","required":true,"schema":{"type":"string","title":"Version"}},{"name":"restore_note","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Optional restoration note","title":"Restore Note"},"description":"Optional restoration note"}],"responses":{"200":{"description":"Version restored successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresetResponse"}}}},"400":{"description":"Invalid version","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"403":{"description":"Cannot restore built-in preset","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"404":{"description":"Preset or version not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/presets/import":{"post":{"tags":["v1-presets","presets"],"summary":"Import presets with conflict resolution","description":"Import multiple presets from JSON with advanced conflict handling.\n    \n    **Features:**\n    - Batch import with atomic transactions\n    - Name conflict detection and resolution\n    - Format validation for all presets\n    - Partial import support (skip conflicts)\n    - Import summary with success/failure counts\n    \n    **Conflict Resolution:**\n    - **skip**: Skip conflicting presets (default)\n    - **overwrite**: Replace existing presets\n    - **rename**: Auto-rename with suffix\n    \n    **Parameters:**\n    - **import_data**: JSON containing preset array\n    - **conflict_strategy**: How to handle name conflicts\n    - **validate_settings**: Perform deep validation\n    \n    **Returns:**\n    - List of successfully imported presets","operationId":"import_presets_api_v1_presets_import_post","parameters":[{"name":"conflict_strategy","in":"query","required":false,"schema":{"type":"string","description":"Conflict resolution strategy","default":"skip","title":"Conflict Strategy"},"description":"Conflict resolution strategy"},{"name":"validate_settings","in":"query","required":false,"schema":{"type":"boolean","description":"Perform deep validation","default":true,"title":"Validate Settings"},"description":"Perform deep validation"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresetImport"}}}},"responses":{"201":{"description":"Presets imported successfully","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PresetResponse"},"title":"Response 201 Import Presets Api V1 Presets Import Post"}}}},"400":{"description":"Invalid import data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"409":{"description":"Name conflicts detected","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/presets/{preset_id}/export":{"get":{"tags":["v1-presets","presets"],"summary":"Export preset with version information","description":"Export a preset as portable JSON with complete metadata.\n    \n    **Export Features:**\n    - Complete preset configuration\n    - Version information and history\n    - Usage statistics (optional)\n    - Import compatibility metadata\n    - Validation checksums\n    \n    **Parameters:**\n    - **preset_id**: UUID of preset to export\n    - **include_history**: Include version history\n    - **include_usage**: Include usage statistics\n    - **format_version**: Export format version\n    \n    **Returns:**\n    - Complete preset export package","operationId":"export_preset_api_v1_presets__preset_id__export_get","parameters":[{"name":"preset_id","in":"path","required":true,"schema":{"type":"string","title":"Preset Id"}},{"name":"include_history","in":"query","required":false,"schema":{"type":"boolean","description":"Include version history","default":false,"title":"Include History"},"description":"Include version history"},{"name":"include_usage","in":"query","required":false,"schema":{"type":"boolean","description":"Include usage statistics","default":false,"title":"Include Usage"},"description":"Include usage statistics"},{"name":"format_version","in":"query","required":false,"schema":{"type":"string","description":"Export format version","default":"1.0","title":"Format Version"},"description":"Export format version"}],"responses":{"200":{"description":"Preset exported successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PresetExport"}}}},"404":{"description":"Preset not found","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/presets/export/all":{"get":{"tags":["v1-presets","presets"],"summary":"Export all user presets with filtering","description":"Export all user presets (excluding built-in) with filtering options.\n    \n    **Features:**\n    - Excludes built-in system presets\n    - Optional format filtering\n    - Batch export optimization\n    - Export validation and checksums\n    - Compressed output support\n    \n    **Parameters:**\n    - **format_filter**: Only export presets for specific format\n    - **include_unused**: Include presets with zero usage\n    - **export_format**: Output format (json, yaml)\n    \n    **Returns:**\n    - Complete export package for all user presets","operationId":"export_all_presets_api_v1_presets_export_all_get","parameters":[{"name":"format_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by output format","title":"Format Filter"},"description":"Filter by output format"},{"name":"include_unused","in":"query","required":false,"schema":{"type":"boolean","description":"Include unused presets","default":true,"title":"Include Unused"},"description":"Include unused presets"},{"name":"export_format","in":"query","required":false,"schema":{"type":"string","description":"Export format","default":"json","title":"Export Format"},"description":"Export format"}],"responses":{"200":{"description":"All presets exported successfully","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/PresetBase"},"title":"Response 200 Export All Presets Api V1 Presets Export All Get"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/detection/detect-format":{"post":{"tags":["v1-detection","detection"],"summary":"Detect image format from uploaded file","description":"Detect the actual image format from file content, regardless of file extension.\n    \n    This endpoint uses advanced format detection techniques including:\n    - Magic byte analysis\n    - Content structure validation\n    - Format-specific header parsing\n    \n    The detection is more reliable than relying on file extensions, which can be misleading.\n    \n    **Parameters:**\n    - **file**: Image file to analyze (multipart/form-data)\n    \n    **Returns:**\n    - Detected format with confidence score\n    - Original file extension (if any)\n    - MIME type information\n    - Additional format-specific details","operationId":"detect_format_api_v1_detection_detect_format_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_detect_format_api_v1_detection_detect_format_post"}}},"required":true},"responses":{"200":{"description":"Format detected successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FormatDetectionResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"413":{"description":"Payload Too Large","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"503":{"description":"Service Unavailable","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/v1/detection/recommend-format":{"post":{"tags":["v1-detection","detection"],"summary":"Get format recommendations based on image content","description":"Analyze an image and provide intelligent format recommendations based on:\n    - Content type detection (photo, illustration, screenshot, document)\n    - Image characteristics (transparency, animation, dimensions)\n    - Compression efficiency predictions\n    - Quality preservation analysis\n    \n    The recommendations are ranked by score and include detailed reasoning.\n    \n    **Parameters:**\n    - **file**: Image file to analyze (multipart/form-data)\n    \n    **Returns:**\n    - Input format and content type\n    - Ranked list of recommended output formats\n    - Reasoning and estimated impact for each recommendation","operationId":"recommend_format_api_v1_detection_recommend_format_post","requestBody":{"content":{"multipart/form-data":{"schema":{"$ref":"#/components/schemas/Body_recommend_format_api_v1_detection_recommend_format_post"}}},"required":true},"responses":{"200":{"description":"Recommendations generated successfully","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FormatRecommendationResponse"}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"413":{"description":"Payload Too Large","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}},"503":{"description":"Service Unavailable","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/v1/detection/formats/compatibility":{"get":{"tags":["v1-detection","detection"],"summary":"Get format compatibility matrix","description":"Returns a comprehensive matrix showing which input formats can be converted to which output formats.\n    \n    This endpoint provides:\n    - Complete compatibility matrix for all supported formats\n    - List of all supported input and output formats\n    - Known limitations or restrictions for specific format pairs\n    \n    This information is useful for:\n    - Building format selection UIs\n    - Validating conversion requests\n    - Understanding format capabilities","operationId":"get_format_compatibility_api_v1_detection_formats_compatibility_get","responses":{"200":{"description":"Compatibility matrix retrieved","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FormatCompatibilityResponse"}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ErrorResponse"}}}}}}},"/api/v1/auth/api-keys":{"post":{"tags":["v1-auth","Authentication"],"summary":"Create Api Key","description":"Create a new API key.\n\nArgs:\n    request: API key creation request\n    http_request: HTTP request for logging\n    \nReturns:\n    Created API key information including the raw key","operationId":"create_api_key_api_v1_auth_api_keys_post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyCreateRequest"}}}},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyCreateResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["v1-auth","Authentication"],"summary":"List Api Keys","description":"List all API keys.\n\nArgs:\n    include_inactive: Whether to include inactive keys\n    http_request: HTTP request for logging\n    \nReturns:\n    List of API key information","operationId":"list_api_keys_api_v1_auth_api_keys_get","parameters":[{"name":"include_inactive","in":"query","required":false,"schema":{"type":"boolean","default":false,"title":"Include Inactive"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/ApiKeyResponse"},"title":"Response List Api Keys Api V1 Auth Api Keys Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/api-keys/{key_id}":{"get":{"tags":["v1-auth","Authentication"],"summary":"Get Api Key","description":"Get a specific API key by ID.\n\nArgs:\n    key_id: The API key ID\n    http_request: HTTP request for logging\n    \nReturns:\n    API key information","operationId":"get_api_key_api_v1_auth_api_keys__key_id__get","parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"string","title":"Key Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["v1-auth","Authentication"],"summary":"Update Api Key","description":"Update an API key.\n\nArgs:\n    key_id: The API key ID\n    request: Update request\n    http_request: HTTP request for logging\n    \nReturns:\n    Updated API key information","operationId":"update_api_key_api_v1_auth_api_keys__key_id__put","parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"string","title":"Key Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyUpdateRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ApiKeyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["v1-auth","Authentication"],"summary":"Revoke Api Key","description":"Revoke (deactivate) an API key.\n\nArgs:\n    key_id: The API key ID\n    http_request: HTTP request for logging","operationId":"revoke_api_key_api_v1_auth_api_keys__key_id__delete","parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"string","title":"Key Id"}}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/api-keys/{key_id}/usage":{"get":{"tags":["v1-auth","Authentication"],"summary":"Get Api Key Usage","description":"Get usage statistics for a specific API key.\n\nArgs:\n    key_id: The API key ID\n    days: Number of days to look back (1-30)\n    http_request: HTTP request for logging\n    \nReturns:\n    Usage statistics","operationId":"get_api_key_usage_api_v1_auth_api_keys__key_id__usage_get","parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"string","title":"Key Id"}},{"name":"days","in":"query","required":false,"schema":{"type":"integer","default":7,"title":"Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsageStatsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/usage":{"get":{"tags":["v1-auth","Authentication"],"summary":"Get Overall Usage","description":"Get overall usage statistics for all API keys.\n\nArgs:\n    days: Number of days to look back (1-30)\n    http_request: HTTP request for logging\n    \nReturns:\n    Overall usage statistics","operationId":"get_overall_usage_api_v1_auth_usage_get","parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","default":7,"title":"Days"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UsageStatsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/auth/cleanup-expired":{"post":{"tags":["v1-auth","Authentication"],"summary":"Cleanup Expired Keys","description":"Clean up expired API keys.\n\nArgs:\n    http_request: HTTP request for logging\n    \nReturns:\n    Cleanup results","operationId":"cleanup_expired_keys_api_v1_auth_cleanup_expired_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Cleanup Expired Keys Api V1 Auth Cleanup Expired Post"}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"AlphaChannelInfo":{"properties":{"has_alpha":{"type":"boolean","title":"Has Alpha","description":"Whether image has alpha channel"},"alpha_usage":{"type":"string","enum":["none","unnecessary","binary","mostly_binary","simple","complex"],"title":"Alpha Usage"},"transparent_pixel_count":{"type":"integer","minimum":0.0,"title":"Transparent Pixel Count"},"alpha_complexity":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Alpha Complexity"},"removed_alpha":{"type":"boolean","title":"Removed Alpha","default":false},"alpha_compressed":{"type":"boolean","title":"Alpha Compressed","default":false},"recommended_action":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Recommended Action"}},"type":"object","required":["has_alpha","alpha_usage","transparent_pixel_count","alpha_complexity"],"title":"AlphaChannelInfo","description":"Alpha channel analysis information."},"ApiKeyCreateRequest":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Name","description":"Optional name for the API key"},"rate_limit_override":{"anyOf":[{"type":"integer","maximum":1000.0,"minimum":1.0},{"type":"null"}],"title":"Rate Limit Override","description":"Custom rate limit per minute (1-1000)"},"expires_days":{"anyOf":[{"type":"integer","maximum":365.0,"minimum":1.0},{"type":"null"}],"title":"Expires Days","description":"Expiration in days (1-365)"}},"type":"object","title":"ApiKeyCreateRequest","description":"Request model for creating an API key."},"ApiKeyCreateResponse":{"properties":{"api_key":{"type":"string","title":"Api Key","description":"The generated API key (only shown once)"},"key_info":{"$ref":"#/components/schemas/ApiKeyResponse"}},"type":"object","required":["api_key","key_info"],"title":"ApiKeyCreateResponse","description":"Response model for API key creation."},"ApiKeyResponse":{"properties":{"id":{"type":"string","title":"Id"},"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"rate_limit_override":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Rate Limit Override"},"is_active":{"type":"boolean","title":"Is Active"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"last_used_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Used At"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"}},"type":"object","required":["id","name","rate_limit_override","is_active","created_at","last_used_at","expires_at"],"title":"ApiKeyResponse","description":"Response model for API key information."},"ApiKeyUpdateRequest":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":100},{"type":"null"}],"title":"Name","description":"New name for the API key"},"rate_limit_override":{"anyOf":[{"type":"integer","maximum":1000.0,"minimum":1.0},{"type":"null"}],"title":"Rate Limit Override","description":"New rate limit per minute"},"expires_days":{"anyOf":[{"type":"integer","maximum":365.0,"minimum":1.0},{"type":"null"}],"title":"Expires Days","description":"New expiration in days from now"}},"type":"object","title":"ApiKeyUpdateRequest","description":"Request model for updating an API key."},"BatchCreateResponse":{"properties":{"job_id":{"type":"string","title":"Job Id","description":"Unique job identifier"},"total_files":{"type":"integer","title":"Total Files","description":"Number of files in batch"},"status":{"$ref":"#/components/schemas/BatchStatus","description":"Initial job status"},"status_url":{"type":"string","title":"Status Url","description":"URL to check job status"},"websocket_url":{"type":"string","title":"Websocket Url","description":"WebSocket URL for progress updates"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Job creation timestamp"}},"type":"object","required":["job_id","total_files","status","status_url","websocket_url","created_at"],"title":"BatchCreateResponse","description":"Response model for batch job creation."},"BatchItem":{"properties":{"file_index":{"type":"integer","title":"File Index","description":"Index of file in batch (0-based)"},"filename":{"type":"string","title":"Filename","description":"Original filename for display"},"status":{"$ref":"#/components/schemas/BatchItemStatus","default":"pending"},"progress":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Progress","description":"Progress percentage","default":0},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message","description":"Error message if failed"},"processing_time":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Processing Time","description":"Processing time in seconds"},"output_size":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Output Size","description":"Size of converted file in bytes"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At"}},"type":"object","required":["file_index","filename"],"title":"BatchItem","description":"Model for an individual file in a batch job."},"BatchItemStatus":{"type":"string","enum":["pending","processing","completed","failed","cancelled"],"title":"BatchItemStatus","description":"Status of an individual item in a batch."},"BatchResult":{"properties":{"job_id":{"type":"string","title":"Job Id","description":"Batch job ID"},"total_files":{"type":"integer","title":"Total Files","description":"Total number of files"},"successful_files":{"items":{"type":"object"},"type":"array","title":"Successful Files","description":"Successfully converted files"},"failed_files":{"items":{"type":"object"},"type":"array","title":"Failed Files","description":"Failed files with errors"},"processing_time_seconds":{"type":"number","title":"Processing Time Seconds","description":"Total processing time in seconds"},"report_format":{"type":"string","title":"Report Format","description":"Format of the report","default":"json"}},"type":"object","required":["job_id","total_files","successful_files","failed_files","processing_time_seconds"],"title":"BatchResult","description":"Model for batch processing results."},"BatchStatus":{"type":"string","enum":["pending","processing","completed","cancelled","failed"],"title":"BatchStatus","description":"Status of a batch job."},"BatchStatusResponse":{"properties":{"job_id":{"type":"string","title":"Job Id","description":"Batch job ID"},"status":{"$ref":"#/components/schemas/BatchStatus","description":"Current job status"},"total_files":{"type":"integer","title":"Total Files","description":"Total number of files"},"completed_files":{"type":"integer","title":"Completed Files","description":"Number of completed files"},"failed_files":{"type":"integer","title":"Failed Files","description":"Number of failed files"},"processing_files":{"type":"integer","title":"Processing Files","description":"Number of files processing"},"pending_files":{"type":"integer","title":"Pending Files","description":"Number of files pending"},"progress_percentage":{"type":"integer","maximum":100.0,"minimum":0.0,"title":"Progress Percentage","description":"Overall progress"},"items":{"items":{"$ref":"#/components/schemas/BatchItem"},"type":"array","title":"Items","description":"Individual file statuses"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Job creation time"},"completed_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Completed At","description":"Job completion time"},"download_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Download Url","description":"URL to download results (if completed)"}},"type":"object","required":["job_id","status","total_files","completed_files","failed_files","processing_files","pending_files","progress_percentage","items","created_at"],"title":"BatchStatusResponse","description":"Response model for batch job status query."},"Body_analyze_image_api_intelligence_analyze_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"Image file to analyze"}},"type":"object","required":["file"],"title":"Body_analyze_image_api_intelligence_analyze_post"},"Body_analyze_image_api_v1_intelligence_analyze_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"Image file to analyze"}},"type":"object","required":["file"],"title":"Body_analyze_image_api_v1_intelligence_analyze_post"},"Body_analyze_optimization_potential_api_optimize_analyze_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"Image file to analyze"},"output_format":{"type":"string","title":"Output Format","description":"Target output format"}},"type":"object","required":["file","output_format"],"title":"Body_analyze_optimization_potential_api_optimize_analyze_post"},"Body_analyze_optimization_potential_api_v1_optimize_analyze_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"Image file to analyze"},"output_format":{"type":"string","title":"Output Format","description":"Target output format"}},"type":"object","required":["file","output_format"],"title":"Body_analyze_optimization_potential_api_v1_optimize_analyze_post"},"Body_convert_image_api_convert_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"Image file to convert"},"output_format":{"$ref":"#/components/schemas/OutputFormat","description":"Target image format"},"quality":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":1.0},{"type":"null"}],"title":"Quality","description":"Output quality (1-100)","default":85},"strip_metadata":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Strip Metadata","description":"Remove EXIF and other metadata (default: true)","default":true},"preserve_metadata":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Preserve Metadata","description":"Preserve non-GPS metadata (overrides strip_metadata)","default":false},"preserve_gps":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Preserve Gps","description":"Preserve GPS location data (only if preserve_metadata is true)","default":false},"preset_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Preset Id","description":"UUID of preset to apply"}},"type":"object","required":["file","output_format"],"title":"Body_convert_image_api_convert_post"},"Body_convert_image_api_v1_convert_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"Image file to convert"},"output_format":{"$ref":"#/components/schemas/OutputFormat","description":"Target image format"},"quality":{"anyOf":[{"type":"integer","maximum":100.0,"minimum":1.0},{"type":"null"}],"title":"Quality","description":"Output quality (1-100)","default":85},"strip_metadata":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Strip Metadata","description":"Remove EXIF and other metadata (default: true)","default":true},"preserve_metadata":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Preserve Metadata","description":"Preserve non-GPS metadata (overrides strip_metadata)","default":false},"preserve_gps":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Preserve Gps","description":"Preserve GPS location data (only if preserve_metadata is true)","default":false},"preset_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Preset Id","description":"UUID of preset to apply"}},"type":"object","required":["file","output_format"],"title":"Body_convert_image_api_v1_convert_post"},"Body_create_batch_job_api_batch__post":{"properties":{"files":{"items":{"type":"string","format":"binary"},"type":"array","title":"Files"},"output_format":{"type":"string","title":"Output Format"},"quality":{"type":"integer","title":"Quality"},"optimization_mode":{"type":"string","title":"Optimization Mode"},"preset_id":{"type":"string","title":"Preset Id"},"preserve_metadata":{"type":"boolean","title":"Preserve Metadata","default":false}},"type":"object","required":["files","output_format"],"title":"Body_create_batch_job_api_batch__post"},"Body_create_batch_job_api_v1_batch__post":{"properties":{"files":{"items":{"type":"string","format":"binary"},"type":"array","title":"Files"},"output_format":{"type":"string","title":"Output Format"},"quality":{"type":"integer","title":"Quality"},"optimization_mode":{"type":"string","title":"Optimization Mode"},"preset_id":{"type":"string","title":"Preset Id"},"preserve_metadata":{"type":"boolean","title":"Preserve Metadata","default":false}},"type":"object","required":["files","output_format"],"title":"Body_create_batch_job_api_v1_batch__post"},"Body_detect_format_api_detection_detect_format_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"Image file to analyze"}},"type":"object","required":["file"],"title":"Body_detect_format_api_detection_detect_format_post"},"Body_detect_format_api_v1_detection_detect_format_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"Image file to analyze"}},"type":"object","required":["file"],"title":"Body_detect_format_api_v1_detection_detect_format_post"},"Body_get_format_recommendations_api_intelligence_recommend_post":{"properties":{"content_classification":{"$ref":"#/components/schemas/ContentClassification","description":"Content classification from analysis"},"original_format":{"$ref":"#/components/schemas/InputFormat","description":"Original image format"},"original_size_kb":{"type":"integer","maximum":102400.0,"exclusiveMinimum":0.0,"title":"Original Size Kb","description":"Original file size in KB (max 100MB)"},"use_case":{"anyOf":[{"$ref":"#/components/schemas/UseCaseType"},{"type":"null"}],"description":"Intended use case"},"prioritize":{"anyOf":[{"type":"string","pattern":"^(size|quality|compatibility)$"},{"type":"null"}],"title":"Prioritize","description":"What to prioritize: size/quality/compatibility"},"exclude_formats":{"anyOf":[{"items":{"$ref":"#/components/schemas/OutputFormat"},"type":"array"},{"type":"null"}],"title":"Exclude Formats","description":"Formats to exclude"},"override_format":{"anyOf":[{"$ref":"#/components/schemas/OutputFormat"},{"type":"null"}],"description":"User override format choice"}},"type":"object","required":["content_classification","original_format","original_size_kb"],"title":"Body_get_format_recommendations_api_intelligence_recommend_post"},"Body_get_format_recommendations_api_v1_intelligence_recommend_post":{"properties":{"content_classification":{"$ref":"#/components/schemas/ContentClassification","description":"Content classification from analysis"},"original_format":{"$ref":"#/components/schemas/InputFormat","description":"Original image format"},"original_size_kb":{"type":"integer","maximum":102400.0,"exclusiveMinimum":0.0,"title":"Original Size Kb","description":"Original file size in KB (max 100MB)"},"use_case":{"anyOf":[{"$ref":"#/components/schemas/UseCaseType"},{"type":"null"}],"description":"Intended use case"},"prioritize":{"anyOf":[{"type":"string","pattern":"^(size|quality|compatibility)$"},{"type":"null"}],"title":"Prioritize","description":"What to prioritize: size/quality/compatibility"},"exclude_formats":{"anyOf":[{"items":{"$ref":"#/components/schemas/OutputFormat"},"type":"array"},{"type":"null"}],"title":"Exclude Formats","description":"Formats to exclude"},"override_format":{"anyOf":[{"$ref":"#/components/schemas/OutputFormat"},{"type":"null"}],"description":"User override format choice"}},"type":"object","required":["content_classification","original_format","original_size_kb"],"title":"Body_get_format_recommendations_api_v1_intelligence_recommend_post"},"Body_optimize_advanced_api_optimize_advanced_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"Image file to optimize"},"output_format":{"type":"string","title":"Output Format","description":"Target output format"},"optimization_mode":{"type":"string","title":"Optimization Mode","description":"Optimization mode","default":"balanced"},"multi_pass":{"type":"boolean","title":"Multi Pass","description":"Enable multi-pass optimization","default":false},"target_size_kb":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Target Size Kb","description":"Target size in KB"},"region_optimization":{"type":"boolean","title":"Region Optimization","description":"Enable region optimization","default":false},"perceptual_metrics":{"type":"boolean","title":"Perceptual Metrics","description":"Calculate quality metrics","default":true},"chroma_subsampling":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chroma Subsampling","description":"Chroma subsampling mode"},"progressive":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Progressive","description":"Progressive encoding"},"lossless":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Lossless","description":"Lossless compression"},"alpha_quality":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Alpha Quality","description":"Alpha channel quality"},"min_quality":{"type":"integer","title":"Min Quality","description":"Minimum quality","default":40},"max_quality":{"type":"integer","title":"Max Quality","description":"Maximum quality","default":95},"base_quality":{"type":"integer","title":"Base Quality","description":"Base quality","default":85}},"type":"object","required":["file","output_format"],"title":"Body_optimize_advanced_api_optimize_advanced_post"},"Body_optimize_advanced_api_v1_optimize_advanced_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"Image file to optimize"},"output_format":{"type":"string","title":"Output Format","description":"Target output format"},"optimization_mode":{"type":"string","title":"Optimization Mode","description":"Optimization mode","default":"balanced"},"multi_pass":{"type":"boolean","title":"Multi Pass","description":"Enable multi-pass optimization","default":false},"target_size_kb":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Target Size Kb","description":"Target size in KB"},"region_optimization":{"type":"boolean","title":"Region Optimization","description":"Enable region optimization","default":false},"perceptual_metrics":{"type":"boolean","title":"Perceptual Metrics","description":"Calculate quality metrics","default":true},"chroma_subsampling":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chroma Subsampling","description":"Chroma subsampling mode"},"progressive":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Progressive","description":"Progressive encoding"},"lossless":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Lossless","description":"Lossless compression"},"alpha_quality":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Alpha Quality","description":"Alpha channel quality"},"min_quality":{"type":"integer","title":"Min Quality","description":"Minimum quality","default":40},"max_quality":{"type":"integer","title":"Max Quality","description":"Maximum quality","default":95},"base_quality":{"type":"integer","title":"Base Quality","description":"Base quality","default":85}},"type":"object","required":["file","output_format"],"title":"Body_optimize_advanced_api_v1_optimize_advanced_post"},"Body_optimize_advanced_download_api_optimize_advanced_download_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"Image file to optimize"},"output_format":{"type":"string","title":"Output Format","description":"Target output format"},"optimization_mode":{"type":"string","title":"Optimization Mode","description":"Optimization mode","default":"balanced"},"multi_pass":{"type":"boolean","title":"Multi Pass","description":"Enable multi-pass optimization","default":false},"target_size_kb":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Target Size Kb","description":"Target size in KB"},"region_optimization":{"type":"boolean","title":"Region Optimization","description":"Enable region optimization","default":false},"lossless":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Lossless","description":"Lossless compression"},"base_quality":{"type":"integer","title":"Base Quality","description":"Base quality","default":85}},"type":"object","required":["file","output_format"],"title":"Body_optimize_advanced_download_api_optimize_advanced_download_post"},"Body_optimize_advanced_download_api_v1_optimize_advanced_download_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"Image file to optimize"},"output_format":{"type":"string","title":"Output Format","description":"Target output format"},"optimization_mode":{"type":"string","title":"Optimization Mode","description":"Optimization mode","default":"balanced"},"multi_pass":{"type":"boolean","title":"Multi Pass","description":"Enable multi-pass optimization","default":false},"target_size_kb":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Target Size Kb","description":"Target size in KB"},"region_optimization":{"type":"boolean","title":"Region Optimization","description":"Enable region optimization","default":false},"lossless":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Lossless","description":"Lossless compression"},"base_quality":{"type":"integer","title":"Base Quality","description":"Base quality","default":85}},"type":"object","required":["file","output_format"],"title":"Body_optimize_advanced_download_api_v1_optimize_advanced_download_post"},"Body_recommend_format_api_detection_recommend_format_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"Image file to analyze for recommendations"}},"type":"object","required":["file"],"title":"Body_recommend_format_api_detection_recommend_format_post"},"Body_recommend_format_api_v1_detection_recommend_format_post":{"properties":{"file":{"type":"string","format":"binary","title":"File","description":"Image file to analyze for recommendations"}},"type":"object","required":["file"],"title":"Body_recommend_format_api_v1_detection_recommend_format_post"},"Body_record_format_preference_api_intelligence_preferences_record_post":{"properties":{"content_type":{"$ref":"#/components/schemas/ContentType","description":"Content type"},"chosen_format":{"$ref":"#/components/schemas/OutputFormat","description":"Format chosen by user"},"use_case":{"anyOf":[{"$ref":"#/components/schemas/UseCaseType"},{"type":"null"}],"description":"Use case context"},"was_override":{"type":"boolean","title":"Was Override","description":"Whether this was an override","default":false}},"type":"object","required":["content_type","chosen_format"],"title":"Body_record_format_preference_api_intelligence_preferences_record_post"},"Body_record_format_preference_api_v1_intelligence_preferences_record_post":{"properties":{"content_type":{"$ref":"#/components/schemas/ContentType","description":"Content type"},"chosen_format":{"$ref":"#/components/schemas/OutputFormat","description":"Format chosen by user"},"use_case":{"anyOf":[{"$ref":"#/components/schemas/UseCaseType"},{"type":"null"}],"description":"Use case context"},"was_override":{"type":"boolean","title":"Was Override","description":"Whether this was an override","default":false}},"type":"object","required":["content_type","chosen_format"],"title":"Body_record_format_preference_api_v1_intelligence_preferences_record_post"},"Body_reset_format_preferences_api_intelligence_preferences_reset_post":{"properties":{"content_type":{"anyOf":[{"$ref":"#/components/schemas/ContentType"},{"type":"null"}],"description":"Content type to reset"},"format_option":{"anyOf":[{"$ref":"#/components/schemas/OutputFormat"},{"type":"null"}],"description":"Format to reset"}},"type":"object","title":"Body_reset_format_preferences_api_intelligence_preferences_reset_post"},"Body_reset_format_preferences_api_v1_intelligence_preferences_reset_post":{"properties":{"content_type":{"anyOf":[{"$ref":"#/components/schemas/ContentType"},{"type":"null"}],"description":"Content type to reset"},"format_option":{"anyOf":[{"$ref":"#/components/schemas/OutputFormat"},{"type":"null"}],"description":"Format to reset"}},"type":"object","title":"Body_reset_format_preferences_api_v1_intelligence_preferences_reset_post"},"BoundingBox":{"properties":{"x":{"type":"integer","minimum":0.0,"title":"X","description":"X coordinate of top-left corner"},"y":{"type":"integer","minimum":0.0,"title":"Y","description":"Y coordinate of top-left corner"},"width":{"type":"integer","exclusiveMinimum":0.0,"title":"Width","description":"Width of the bounding box"},"height":{"type":"integer","exclusiveMinimum":0.0,"title":"Height","description":"Height of the bounding box"},"confidence":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Confidence","description":"Detection confidence"}},"type":"object","required":["x","y","width","height"],"title":"BoundingBox","description":"Bounding box for detected regions."},"ContentClassification":{"properties":{"primary_type":{"$ref":"#/components/schemas/ContentType","description":"Primary detected content type"},"confidence":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Confidence","description":"Confidence score for primary type"},"secondary_types":{"anyOf":[{"items":{"prefixItems":[{"$ref":"#/components/schemas/ContentType"},{"type":"number"}],"type":"array","maxItems":2,"minItems":2},"type":"array"},{"type":"null"}],"title":"Secondary Types","description":"Secondary content types with confidence scores"},"has_text":{"type":"boolean","title":"Has Text","description":"Whether text regions were detected","default":false},"text_regions":{"anyOf":[{"items":{"$ref":"#/components/schemas/BoundingBox"},"type":"array"},{"type":"null"}],"title":"Text Regions","description":"Detected text regions"},"has_faces":{"type":"boolean","title":"Has Faces","description":"Whether faces were detected","default":false},"face_regions":{"anyOf":[{"items":{"$ref":"#/components/schemas/BoundingBox"},"type":"array"},{"type":"null"}],"title":"Face Regions","description":"Detected face regions"},"processing_time_ms":{"type":"number","title":"Processing Time Ms","description":"Processing time in milliseconds"},"complexity_score":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Complexity Score","description":"Image complexity score"},"dominant_colors":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Dominant Colors","description":"List of dominant colors in hex format"}},"type":"object","required":["primary_type","confidence","processing_time_ms"],"title":"ContentClassification","description":"Classification result for image content detection."},"ContentType":{"type":"string","enum":["photo","illustration","screenshot","document"],"title":"ContentType","description":"Detected image content type."},"ErrorResponse":{"type":"object","required":["error_code","message","correlation_id"],"properties":{"error_code":{"type":"string","description":"Unique error code for programmatic handling","example":"CONV201","enum":["CONV201","CONV400","CONV413","CONV415","CONV422","CONV500","BAT201","BAT400","BAT404","BAT500","DET400","DET413","DET503","PRE400","PRE403","PRE404","PRE409","PRE500"]},"message":{"type":"string","description":"Human-readable error message","example":"File size exceeds maximum allowed size"},"correlation_id":{"type":"string","description":"Request correlation ID for tracking","example":"abc123-def456-ghi789","pattern":"^[a-f0-9-]+$"},"details":{"type":"object","description":"Additional error context","additionalProperties":true,"example":{"file_size":52428800,"max_allowed":50331648,"size_mb":50.0}},"timestamp":{"type":"string","format":"date-time","description":"When the error occurred","example":"2024-01-15T10:30:00Z"}},"example":{"error_code":"CONV413","message":"File size exceeds maximum allowed size","correlation_id":"abc123-def456-ghi789","details":{"file_size":52428800,"max_allowed":50331648,"size_mb":50.0},"timestamp":"2024-01-15T10:30:00Z"}},"FormatCompatibilityMatrix":{"properties":{"input_format":{"type":"string","title":"Input Format","description":"Input format"},"output_formats":{"items":{"type":"string"},"type":"array","title":"Output Formats","description":"Compatible output formats"},"limitations":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Limitations","description":"Known limitations or restrictions"}},"type":"object","required":["input_format","output_formats"],"title":"FormatCompatibilityMatrix","description":"Format compatibility information."},"FormatCompatibilityResponse":{"properties":{"compatibility_matrix":{"items":{"$ref":"#/components/schemas/FormatCompatibilityMatrix"},"type":"array","title":"Compatibility Matrix","description":"Format compatibility matrix"},"supported_input_formats":{"items":{"type":"string"},"type":"array","title":"Supported Input Formats","description":"All supported input formats"},"supported_output_formats":{"items":{"type":"string"},"type":"array","title":"Supported Output Formats","description":"All supported output formats"}},"type":"object","required":["compatibility_matrix","supported_input_formats","supported_output_formats"],"title":"FormatCompatibilityResponse","description":"Response model for format compatibility endpoint."},"FormatDetectionResponse":{"properties":{"detected_format":{"type":"string","title":"Detected Format","description":"Detected image format"},"confidence":{"type":"number","title":"Confidence","description":"Detection confidence (0.0-1.0)"},"file_extension":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Extension","description":"Original file extension"},"mime_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mime Type","description":"Detected MIME type"},"format_details":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Format Details","description":"Additional format-specific details"}},"type":"object","required":["detected_format","confidence"],"title":"FormatDetectionResponse","description":"Response model for format detection endpoint."},"FormatRecommendation":{"properties":{"format":{"$ref":"#/components/schemas/OutputFormat","description":"Recommended output format"},"score":{"type":"number","title":"Score","description":"Recommendation score (0.0-1.0)"},"reasons":{"items":{"type":"string"},"type":"array","title":"Reasons","description":"Reasons for recommendation"},"estimated_compression":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Estimated Compression","description":"Estimated compression ratio"},"quality_impact":{"type":"string","title":"Quality Impact","description":"Expected quality impact"}},"type":"object","required":["format","score","reasons","quality_impact"],"title":"FormatRecommendation","description":"Single format recommendation."},"FormatRecommendationResponse":{"properties":{"input_format":{"type":"string","title":"Input Format","description":"Detected input format"},"content_type":{"type":"string","title":"Content Type","description":"Detected content type"},"recommendations":{"items":{"$ref":"#/components/schemas/FormatRecommendation"},"type":"array","title":"Recommendations","description":"List of format recommendations"},"analysis_details":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Analysis Details","description":"Additional analysis information"}},"type":"object","required":["input_format","content_type","recommendations"],"title":"FormatRecommendationResponse","description":"Response model for format recommendation endpoint."},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"InputFormat":{"type":"string","enum":["jpeg","jpg","png","webp","heif","heic","bmp","tiff","gif","avif"],"title":"InputFormat","description":"Supported input image formats."},"OptimizationMode":{"type":"string","enum":["balanced","size","quality","perceptual"],"title":"OptimizationMode","description":"Optimization mode strategies."},"OptimizationPass":{"properties":{"pass_number":{"type":"integer","title":"Pass Number","description":"Pass number"},"quality":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Quality","description":"Quality setting used"},"file_size":{"type":"integer","minimum":0.0,"title":"File Size","description":"Resulting file size in bytes"},"ssim_score":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Ssim Score"},"psnr_value":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Psnr Value"},"processing_time":{"type":"number","minimum":0.0,"title":"Processing Time","description":"Pass processing time in seconds"}},"type":"object","required":["pass_number","quality","file_size","processing_time"],"title":"OptimizationPass","description":"Single optimization pass details."},"OptimizationResponse":{"properties":{"conversion_id":{"type":"string","format":"uuid","title":"Conversion Id","description":"Unique conversion ID"},"success":{"type":"boolean","title":"Success","description":"Whether optimization succeeded"},"original_size":{"type":"integer","title":"Original Size","description":"Original file size in bytes"},"optimized_size":{"type":"integer","title":"Optimized Size","description":"Optimized file size in bytes"},"output_format":{"type":"string","title":"Output Format","description":"Output format"},"quality_metrics":{"anyOf":[{"$ref":"#/components/schemas/QualityMetrics"},{"type":"null"}]},"optimization_mode":{"$ref":"#/components/schemas/OptimizationMode"},"total_passes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Total Passes","description":"Number of optimization passes"},"converged":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Converged","description":"Whether optimization converged"},"passes":{"anyOf":[{"items":{"$ref":"#/components/schemas/OptimizationPass"},"type":"array"},{"type":"null"}],"title":"Passes","description":"Details of each pass"},"regions_detected":{"anyOf":[{"items":{"$ref":"#/components/schemas/RegionInfo"},"type":"array"},{"type":"null"}],"title":"Regions Detected"},"region_optimization_applied":{"type":"boolean","title":"Region Optimization Applied","default":false},"alpha_info":{"anyOf":[{"$ref":"#/components/schemas/AlphaChannelInfo"},{"type":"null"}]},"total_processing_time":{"type":"number","title":"Total Processing Time","description":"Total processing time in seconds"},"encoding_options_applied":{"type":"object","title":"Encoding Options Applied"},"error_message":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Message"},"error_code":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error Code"}},"type":"object","required":["conversion_id","success","original_size","optimized_size","output_format","optimization_mode","total_processing_time"],"title":"OptimizationResponse","description":"Response model for advanced optimization."},"OutputFormat":{"type":"string","enum":["webp","avif","jpeg","jpg","png","heif","jpegxl","jxl","jpeg_xl","webp2","jp2","jpeg2000","png_optimized","jpeg_optimized","jpg_optimized"],"title":"OutputFormat","description":"Supported output image formats."},"PresetBase":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name","description":"Preset name"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description","description":"Preset description"},"settings":{"$ref":"#/components/schemas/PresetSettings","description":"Conversion settings for this preset"}},"type":"object","required":["name","settings"],"title":"PresetBase","description":"Base schema for preset data."},"PresetCreate":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name","description":"Preset name"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description","description":"Preset description"},"settings":{"$ref":"#/components/schemas/PresetSettings","description":"Conversion settings for this preset"}},"type":"object","required":["name","settings"],"title":"PresetCreate","description":"Schema for creating a new preset."},"PresetExport":{"properties":{"preset":{"$ref":"#/components/schemas/PresetResponse","description":"Preset data"},"export_version":{"type":"string","title":"Export Version","description":"Export format version","default":"1.0"},"exported_at":{"type":"string","format":"date-time","title":"Exported At","description":"Export timestamp"}},"type":"object","required":["preset"],"title":"PresetExport","description":"Schema for exporting presets."},"PresetImport":{"properties":{"presets":{"items":{"$ref":"#/components/schemas/PresetBase"},"type":"array","title":"Presets","description":"List of presets to import"}},"type":"object","required":["presets"],"title":"PresetImport","description":"Schema for importing presets."},"PresetListResponse":{"properties":{"presets":{"items":{"$ref":"#/components/schemas/PresetResponse"},"type":"array","title":"Presets","description":"List of all presets"},"total":{"type":"integer","title":"Total","description":"Total number of presets"},"offset":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Offset","description":"Number of presets skipped"},"limit":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Limit","description":"Maximum presets returned"},"has_more":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Has More","description":"Whether more presets are available"},"search_query":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search Query","description":"Search query used"},"search_metadata":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Search Metadata","description":"Search execution metadata"}},"type":"object","required":["presets","total"],"title":"PresetListResponse","description":"Schema for listing presets with pagination and search support."},"PresetResponse":{"properties":{"name":{"type":"string","maxLength":100,"minLength":1,"title":"Name","description":"Preset name"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description","description":"Preset description"},"settings":{"$ref":"#/components/schemas/PresetSettings","description":"Conversion settings for this preset"},"id":{"type":"string","title":"Id","description":"Preset UUID"},"is_builtin":{"type":"boolean","title":"Is Builtin","description":"Whether this is a built-in preset"},"created_at":{"type":"string","format":"date-time","title":"Created At","description":"Creation timestamp"},"updated_at":{"type":"string","format":"date-time","title":"Updated At","description":"Last update timestamp"}},"type":"object","required":["name","settings","id","is_builtin","created_at","updated_at"],"title":"PresetResponse","description":"Schema for preset response."},"PresetSettings":{"properties":{"output_format":{"type":"string","title":"Output Format","description":"Target format for conversion"},"quality":{"type":"integer","maximum":100.0,"minimum":1.0,"title":"Quality","description":"Conversion quality (1-100)","default":85},"optimization_mode":{"type":"string","title":"Optimization Mode","description":"Optimization mode: balanced, file_size, or quality","default":"balanced"},"preserve_metadata":{"type":"boolean","title":"Preserve Metadata","description":"Whether to preserve image metadata","default":false},"resize_options":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Resize Options","description":"Optional resize configuration"},"advanced_settings":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Advanced Settings","description":"Format-specific advanced settings"}},"type":"object","required":["output_format"],"title":"PresetSettings","description":"Schema for preset conversion settings."},"PresetUpdate":{"properties":{"name":{"anyOf":[{"type":"string","maxLength":100,"minLength":1},{"type":"null"}],"title":"Name"},"description":{"anyOf":[{"type":"string","maxLength":500},{"type":"null"}],"title":"Description"},"settings":{"anyOf":[{"$ref":"#/components/schemas/PresetSettings"},{"type":"null"}]}},"type":"object","title":"PresetUpdate","description":"Schema for updating an existing preset."},"QualityMetrics":{"properties":{"ssim_score":{"anyOf":[{"type":"number","maximum":1.0,"minimum":0.0},{"type":"null"}],"title":"Ssim Score","description":"Structural Similarity Index (0-1)"},"psnr_value":{"anyOf":[{"type":"number","maximum":100.0,"minimum":0.0},{"type":"null"}],"title":"Psnr Value","description":"Peak Signal-to-Noise Ratio in dB"},"file_size_reduction":{"type":"number","maximum":100.0,"minimum":0.0,"title":"File Size Reduction","description":"File size reduction percentage"},"visual_quality":{"type":"string","enum":["high","medium","low"],"title":"Visual Quality","description":"Visual quality rating"}},"type":"object","required":["file_size_reduction","visual_quality"],"title":"QualityMetrics","description":"Perceptual quality metrics."},"RegionInfo":{"properties":{"region_type":{"type":"string","enum":["face","text","foreground","background"],"title":"Region Type"},"bbox":{"items":{"type":"integer"},"type":"array","maxItems":4,"minItems":4,"title":"Bbox","description":"Bounding box [x1, y1, x2, y2]"},"confidence":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Confidence"},"quality_factor":{"type":"number","maximum":1.0,"minimum":0.0,"title":"Quality Factor"}},"type":"object","required":["region_type","bbox","confidence","quality_factor"],"title":"RegionInfo","description":"Information about detected regions."},"UsageStatsResponse":{"properties":{"total_requests":{"type":"integer","title":"Total Requests"},"unique_endpoints":{"type":"integer","title":"Unique Endpoints"},"avg_response_time_ms":{"type":"number","title":"Avg Response Time Ms"},"status_codes":{"additionalProperties":{"type":"integer"},"type":"object","title":"Status Codes"},"endpoints":{"additionalProperties":{"type":"integer"},"type":"object","title":"Endpoints"},"period_days":{"type":"integer","title":"Period Days"}},"type":"object","required":["total_requests","unique_endpoints","avg_response_time_ms","status_codes","endpoints","period_days"],"title":"UsageStatsResponse","description":"Response model for usage statistics."},"UseCaseType":{"type":"string","enum":["web","print","archive"],"title":"UseCaseType","description":"Use case for image conversion."},"ValidationError":{"type":"object","properties":{"loc":{"type":"array","items":{"type":"string"},"description":"Location of the validation error","example":["body","quality"]},"msg":{"type":"string","description":"Validation error message","example":"ensure this value is greater than or equal to 1"},"type":{"type":"string","description":"Type of validation error","example":"value_error.number.not_ge"}},"example":{"loc":["body","quality"],"msg":"ensure this value is greater than or equal to 1","type":"value_error.number.not_ge"}},"SupportedFormat":{"type":"object","properties":{"format":{"type":"string","description":"Format identifier","example":"webp"},"mime_type":{"type":"string","description":"MIME type","example":"image/webp"},"extensions":{"type":"array","items":{"type":"string"},"description":"File extensions","example":[".webp"]},"supports_transparency":{"type":"boolean","description":"Whether format supports transparency","example":true},"supports_animation":{"type":"boolean","description":"Whether format supports animation","example":true}}},"ConversionResult":{"type":"object","description":"Conversion result metadata (returned in response headers)","properties":{"conversion_id":{"type":"string","description":"Unique conversion identifier","example":"conv_abc123def456"},"processing_time":{"type":"number","description":"Processing time in seconds","example":0.234},"compression_ratio":{"type":"number","description":"Output/input size ratio","example":0.65},"input_format":{"type":"string","description":"Detected input format","example":"jpeg"},"output_format":{"type":"string","description":"Actual output format","example":"webp"},"input_size":{"type":"integer","description":"Original file size in bytes","example":1048576},"output_size":{"type":"integer","description":"Converted file size in bytes","example":681574},"quality_used":{"type":"integer","description":"Quality setting applied","example":85},"metadata_removed":{"type":"boolean","description":"Whether metadata was stripped","example":true}}}},"securitySchemes":{"ApiKeyAuth":{"type":"apiKey","in":"header","name":"X-API-Key","description":"API key for authenticated access (future feature)"},"BearerAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT","description":"JWT token authentication (future feature)"}},"parameters":{"CorrelationId":{"name":"X-Correlation-ID","in":"header","description":"Optional correlation ID for request tracking and debugging","required":false,"schema":{"type":"string","pattern":"^[a-f0-9-]+$","example":"abc123-def456-ghi789"}},"AcceptVersion":{"name":"Accept-Version","in":"header","description":"API version preference for backward compatibility","required":false,"schema":{"type":"string","enum":["v1"],"default":"v1"}},"ContentType":{"name":"Content-Type","in":"header","description":"Content type for file uploads","required":true,"schema":{"type":"string","enum":["multipart/form-data"],"example":"multipart/form-data"}},"CacheControl":{"name":"Cache-Control","in":"header","description":"Cache control for converted images","required":false,"schema":{"type":"string","example":"no-cache, no-store, must-revalidate"}},"PaginationLimit":{"name":"limit","in":"query","description":"Maximum number of items to return","required":false,"schema":{"type":"integer","minimum":1,"maximum":100,"default":20}},"PaginationOffset":{"name":"offset","in":"query","description":"Number of items to skip","required":false,"schema":{"type":"integer","minimum":0,"default":0}}},"examples":{"SimpleConversion":{"summary":"Basic image conversion","description":"Convert a JPEG image to WebP format with default settings","value":{"file":"@photo.jpg","output_format":"webp","quality":85}},"HighQualityConversion":{"summary":"High-quality conversion","description":"Convert with maximum quality and metadata preservation","value":{"file":"@photo.jpg","output_format":"avif","quality":95,"preserve_metadata":true,"strip_metadata":false}},"BatchConversion":{"summary":"Batch processing","description":"Convert multiple images with consistent settings","value":{"files":["@photo1.jpg","@photo2.png","@photo3.heic"],"output_format":"webp","quality":80,"optimization_mode":"size"}},"PresetConversion":{"summary":"Using presets","description":"Convert using a predefined preset configuration","value":{"file":"@photo.jpg","output_format":"webp","preset_id":"550e8400-e29b-41d4-a716-446655440000"}},"ErrorResponse400":{"summary":"Validation error","description":"Example of a validation error response","value":{"error_code":"CONV400","message":"Invalid quality setting","correlation_id":"abc123-def456-ghi789","details":{"provided_quality":150,"valid_range":"1-100"},"timestamp":"2024-01-15T10:30:00Z"}},"ErrorResponse413":{"summary":"File too large","description":"Example of a file size error response","value":{"error_code":"CONV413","message":"File size exceeds maximum allowed size","correlation_id":"def456-ghi789-jkl012","details":{"file_size":52428800,"max_allowed":50331648,"size_mb":50.0},"timestamp":"2024-01-15T10:31:00Z"}}},"requestBodies":{"ImageConversion":{"description":"Image file with conversion parameters","required":true,"content":{"multipart/form-data":{"schema":{"type":"object","required":["file","output_format"],"properties":{"file":{"type":"string","format":"binary","description":"Image file to convert"},"output_format":{"type":"string","enum":["webp","avif","jpeg","png","jxl","heif","webp2"],"description":"Target output format"},"quality":{"type":"integer","minimum":1,"maximum":100,"default":85,"description":"Output quality (1-100)"},"strip_metadata":{"type":"boolean","default":true,"description":"Remove EXIF and metadata"},"preserve_metadata":{"type":"boolean","default":false,"description":"Preserve non-GPS metadata"},"preserve_gps":{"type":"boolean","default":false,"description":"Preserve GPS location data"},"preset_id":{"type":"string","format":"uuid","description":"UUID of preset to apply"}}},"examples":{"simple":{"$ref":"#/components/examples/SimpleConversion"},"high_quality":{"$ref":"#/components/examples/HighQualityConversion"},"with_preset":{"$ref":"#/components/examples/PresetConversion"}}}}},"BatchConversion":{"description":"Multiple image files with batch conversion settings","required":true,"content":{"multipart/form-data":{"schema":{"type":"object","required":["files","output_format"],"properties":{"files":{"type":"array","items":{"type":"string","format":"binary"},"minItems":1,"maxItems":100,"description":"Array of image files to convert"},"output_format":{"type":"string","enum":["webp","avif","jpeg","png","jxl","heif","webp2"],"description":"Target output format for all files"},"quality":{"type":"integer","minimum":1,"maximum":100,"default":85},"optimization_mode":{"type":"string","enum":["size","quality","balanced","lossless"],"default":"balanced"},"preserve_metadata":{"type":"boolean","default":false},"preset_id":{"type":"string","format":"uuid"}}},"example":{"$ref":"#/components/examples/BatchConversion"}}}}},"headers":{"X-Conversion-Id":{"description":"Unique identifier for the conversion operation","schema":{"type":"string","example":"conv_abc123def456"}},"X-Processing-Time":{"description":"Time taken to process the conversion (seconds)","schema":{"type":"number","example":0.234}},"X-Compression-Ratio":{"description":"Ratio of output size to input size","schema":{"type":"number","example":0.65}},"X-Input-Format":{"description":"Detected input image format","schema":{"type":"string","example":"jpeg"}},"X-Output-Format":{"description":"Actual output format used","schema":{"type":"string","example":"webp"}},"X-Correlation-ID":{"description":"Request correlation ID for tracking","schema":{"type":"string","example":"abc123-def456-ghi789"}},"X-API-Version":{"description":"API version used for the request","schema":{"type":"string","example":"v1"}},"X-Total-Items":{"description":"Total number of items available (pagination)","schema":{"type":"integer","example":150}},"X-Has-More":{"description":"Whether more items are available (pagination)","schema":{"type":"boolean","example":true}}},"callbacks":{"conversionComplete":{"{$request.body#/callback_url}":{"post":{"summary":"Conversion completion notification","description":"Called when a conversion operation completes (future feature)","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"conversion_id":{"type":"string"},"status":{"type":"string","enum":["completed","failed"]},"result":{"$ref":"#/components/schemas/ConversionResult"}}}}}},"responses":{"200":{"description":"Callback acknowledged"}}}}}}},"servers":[{"url":"http://localhost:8080/api/v1","description":"Local development server (v1 API - Current)","variables":{"port":{"default":"8080","description":"API server port"}}},{"url":"http://localhost:8080/api","description":"Local development server (Legacy endpoints - Deprecated)","variables":{"port":{"default":"8080","description":"API server port"}}},{"url":"http://127.0.0.1:8080/api/v1","description":"Alternative localhost (v1 API)"}],"tags":[{"name":"conversion","description":"Single image conversion operations with format detection and optimization","externalDocs":{"description":"Conversion Guide","url":"/api/docs/conversion-guide"}},{"name":"batch","description":"Batch processing operations with real-time progress tracking","externalDocs":{"description":"Batch Processing Guide","url":"/api/docs/batch-guide"}},{"name":"detection","description":"Format detection, analysis, and intelligent recommendations","externalDocs":{"description":"Detection API Reference","url":"/api/docs/detection-guide"}},{"name":"presets","description":"Preset management with versioning, search, and advanced filtering","externalDocs":{"description":"Preset Management Guide","url":"/api/docs/preset-guide"}},{"name":"monitoring","description":"System monitoring, statistics, and performance metrics","externalDocs":{"description":"Monitoring Guide","url":"/api/docs/monitoring-guide"}},{"name":"health","description":"Health checks, system status, and network isolation verification","externalDocs":{"description":"Health Check Guide","url":"/api/docs/health-guide"}},{"name":"intelligence","description":"AI-powered content analysis and optimization recommendations","externalDocs":{"description":"Intelligence Engine Guide","url":"/api/docs/intelligence-guide"}},{"name":"optimization","description":"Advanced optimization features and quality analysis","externalDocs":{"description":"Optimization Guide","url":"/api/docs/optimization-guide"}}]}